{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/calendar/calendar.component.css","webpack:///./src/app/calendar/calendar.component.html","webpack:///./src/app/calendar/calendar.component.ts","webpack:///./src/app/data-manager/data-manager.component.css","webpack:///./src/app/data-manager/data-manager.component.html","webpack:///./src/app/data-manager/data-manager.component.ts","webpack:///./src/app/data.service.ts","webpack:///./src/app/dependency-graph/dependency-graph.component.css","webpack:///./src/app/dependency-graph/dependency-graph.component.html","webpack:///./src/app/dependency-graph/dependency-graph.component.ts","webpack:///./src/app/dependency-matrix/dependency-matrix.component.css","webpack:///./src/app/dependency-matrix/dependency-matrix.component.html","webpack:///./src/app/dependency-matrix/dependency-matrix.component.ts","webpack:///./src/app/dependency-table/dependency-table.component.css","webpack:///./src/app/dependency-table/dependency-table.component.html","webpack:///./src/app/dependency-table/dependency-table.component.ts","webpack:///./src/app/edgelabel.pipe.ts","webpack:///./src/app/editor-edge/editor-edge.component.css","webpack:///./src/app/editor-edge/editor-edge.component.html","webpack:///./src/app/editor-edge/editor-edge.component.ts","webpack:///./src/app/editor/editor.component.css","webpack:///./src/app/editor/editor.component.html","webpack:///./src/app/editor/editor.component.ts","webpack:///./src/app/gantt/gantt.component.css","webpack:///./src/app/gantt/gantt.component.html","webpack:///./src/app/gantt/gantt.component.ts","webpack:///./src/app/label.pipe.ts","webpack:///./src/app/menu/menu.component.css","webpack:///./src/app/menu/menu.component.html","webpack:///./src/app/menu/menu.component.ts","webpack:///./src/app/models.ts","webpack:///./src/app/nodetypelabel.pipe.ts","webpack:///./src/app/process-list/process-list.component.css","webpack:///./src/app/process-list/process-list.component.html","webpack:///./src/app/process-list/process-list.component.ts","webpack:///./src/app/report/report.component.css","webpack:///./src/app/report/report.component.html","webpack:///./src/app/report/report.component.ts","webpack:///./src/app/settings/settings.component.css","webpack:///./src/app/settings/settings.component.html","webpack:///./src/app/settings/settings.component.ts","webpack:///./src/app/stash.service.ts","webpack:///./src/app/styles.ts","webpack:///./src/app/summary-chart/summary-chart.component.css","webpack:///./src/app/summary-chart/summary-chart.component.html","webpack:///./src/app/summary-chart/summary-chart.component.ts","webpack:///./src/app/timeline/timeline.component.css","webpack:///./src/app/timeline/timeline.component.html","webpack:///./src/app/timeline/timeline.component.ts","webpack:///./src/app/type.pipe.ts","webpack:///./src/app/utils.ts","webpack:///./src/app/view/view.component.css","webpack:///./src/app/view/view.component.html","webpack:///./src/app/view/view.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\\r\\n\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\r\\n<app-menu></app-menu>\\r\\n\\r\\n<div class=\\\"container-fluid\\\">\\r\\n  <router-outlet></router-outlet>\\r\\n</div>\\r\\n\"","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n}\r\n","import 'hammerjs';\r\n\r\nimport { isDevMode, NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\r\nimport { LocalStorageModule } from 'angular-2-local-storage';\r\nimport { CalendarModule } from 'angular-calendar';\r\nimport { SplitPaneModule } from 'ng2-split-pane/lib/ng2-split-pane';\r\nimport { Ng2TableModule } from 'ng2-table/ng2-table';\r\nimport { TagInputModule } from 'ngx-chips';\r\nimport { NgxTimelineModule } from 'ngx-timeline';\r\n\r\nimport { environment } from '../environments/environment';\r\nimport { AppComponent } from './app.component';\r\nimport { CalendarComponent } from './calendar/calendar.component';\r\nimport { DataManagerComponent } from './data-manager/data-manager.component';\r\nimport { DataService } from './data.service';\r\nimport { DependencyGraphComponent } from './dependency-graph/dependency-graph.component';\r\nimport { DependencyMatrixComponent } from './dependency-matrix/dependency-matrix.component';\r\nimport { DependencyTableComponent } from './dependency-table/dependency-table.component';\r\nimport { EdgelabelPipe } from './edgelabel.pipe';\r\nimport { EditorEdgeComponent } from './editor-edge/editor-edge.component';\r\nimport { EditorComponent } from './editor/editor.component';\r\nimport { GanttComponent } from './gantt/gantt.component';\r\nimport { LabelPipe } from './label.pipe';\r\nimport { MenuComponent } from './menu/menu.component';\r\nimport { NodetypelabelPipe } from './nodetypelabel.pipe';\r\nimport { ProcessListComponent } from './process-list/process-list.component';\r\nimport { ReportComponent } from './report/report.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { StashService } from './stash.service';\r\nimport { SummaryChartComponent } from './summary-chart/summary-chart.component';\r\nimport { TimelineComponent } from './timeline/timeline.component';\r\nimport { TypePipe } from './type.pipe';\r\nimport { ViewComponent } from './view/view.component';\r\n\r\nconst appRoutes: Routes = [\r\n  { path: \"home\", component: ProcessListComponent },\r\n  { path: \"edit\", component: EditorComponent },\r\n  { path: \"edit_edge\", component: EditorEdgeComponent },\r\n  { path: \"edit/:id\", component: EditorComponent },\r\n  { path: \"edit_edge/:id\", component: EditorEdgeComponent },\r\n  { path: \"view/:id\", component: ViewComponent },\r\n  { path: \"matrix\", component: DependencyMatrixComponent },\r\n  { path: \"graph\", component: DependencyGraphComponent },\r\n  { path: \"report\", component: ReportComponent },\r\n  { path: \"calendar\", component: CalendarComponent },\r\n  { path: \"timeline\", component: TimelineComponent },\r\n  { path: \"gantt\", component: GanttComponent },\r\n  { path: \"database\", component: DataManagerComponent },\r\n  { path: \"settings\", component: SettingsComponent },\r\n  { path: \"\", redirectTo: \"/home\", pathMatch: \"full\" },\r\n  { path: \"**\", redirectTo: \"/home\" }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MenuComponent,\r\n    ProcessListComponent,\r\n    DependencyMatrixComponent,\r\n    DependencyGraphComponent,\r\n    DataManagerComponent,\r\n    SettingsComponent,\r\n    ReportComponent,\r\n    DependencyTableComponent,\r\n    EditorComponent,\r\n    ViewComponent,\r\n    LabelPipe,\r\n    TypePipe,\r\n    EditorEdgeComponent,\r\n    CalendarComponent,\r\n    TimelineComponent,\r\n    GanttComponent,\r\n    EdgelabelPipe,\r\n    NodetypelabelPipe,\r\n    SummaryChartComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpModule,\r\n    HttpModule,\r\n    RouterModule.forRoot(appRoutes),\r\n    NgbModule.forRoot(),\r\n    LocalStorageModule.withConfig({\r\n      prefix: \"depends\",\r\n      storageType: \"localStorage\"\r\n    }),\r\n    SplitPaneModule,\r\n    Ng2TableModule,\r\n    TagInputModule,\r\n    CalendarModule.forRoot(),\r\n    NgxTimelineModule,\r\n    NgxChartsModule\r\n  ],\r\n  providers: [DataService, StashService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n  constructor() {\r\n\r\n  }\r\n}\r\n","module.exports = \"\"","module.exports = \"<h4> {{ viewDate | calendarDate:(display + 'ViewTitle') }} </h4>\\n<div class=\\\"sticky-top\\\">\\n  <div class=\\\"btn-group btn-group-sm  mb-1\\\">\\n    <div class=\\\"btn btn-info btn-sm\\\" mwlCalendarPreviousView [view]=\\\"display\\\" [(viewDate)]=\\\"viewDate\\\">Previous </div>\\n    <div class=\\\"btn btn-secondary btn-sm\\\" mwlCalendarToday [(viewDate)]=\\\"viewDate\\\">Today</div>\\n    <div class=\\\"btn btn-info btn-sm\\\" mwlCalendarNextView [view]=\\\"display\\\" [(viewDate)]=\\\"viewDate\\\">Next</div>\\n  </div>\\n\\n  <div class=\\\"btn-group btn-group-sm  mb-1\\\">\\n    <div class=\\\"btn btn-info btn-sm\\\" (click)=\\\"display = 'month'\\\" [class.active]=\\\"display === 'month'\\\">\\n      Month\\n    </div>\\n    <div class=\\\"btn btn-info btn-sm\\\" (click)=\\\"display = 'week'\\\" [class.active]=\\\"display === 'week'\\\">\\n      Week\\n    </div>\\n    <!-- <div class=\\\"btn btn-info btn-sm\\\" (click)=\\\"display = 'day'\\\" [class.active]=\\\"display === 'day'\\\">\\n      Day\\n    </div> -->\\n  </div>\\n\\n  <div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\n    <button [disabled]=\\\"!selected\\\" class=\\\"btn btn-secondary btn-sm \\\" (click)=\\\"edit()\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i> Edit </button>\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"newItem()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Item</button>\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"newEdge()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Link</button>\\n  </div>\\n</div>\\n\\n\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-lg-9\\\">\\n    <div [ngSwitch]=\\\"display\\\">\\n      <mwl-calendar-month-view *ngSwitchCase=\\\"'month'\\\" [viewDate]=\\\"viewDate\\\" [events]=\\\"events\\\" [activeDayIsOpen]=\\\"activeDayIsOpen\\\"\\n        (eventClicked)=\\\"eventClicked($event)\\\" (dayClicked)=\\\"dayClicked($event.day)\\\">\\n      </mwl-calendar-month-view>\\n      <mwl-calendar-week-view *ngSwitchCase=\\\"'week'\\\" [viewDate]=\\\"viewDate\\\" [events]=\\\"events\\\" (eventClicked)=\\\"eventClicked($event)\\\">\\n      </mwl-calendar-week-view>\\n      <mwl-calendar-day-view *ngSwitchCase=\\\"'day'\\\" [viewDate]=\\\"viewDate\\\" [events]=\\\"events\\\" (eventClicked)=\\\"eventClicked($event)\\\">\\n      </mwl-calendar-day-view>\\n    </div>\\n  </div>\\n  <div class=\\\"col-lg-3\\\">\\n    <app-view [item]=\\\"selected\\\"></app-view>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CalendarEvent } from 'angular-calendar';\nimport { isSameDay, isSameMonth } from 'date-fns';\n\nimport { DataService } from '../data.service';\nimport { GraphItem } from '../models';\n\n@Component({\n  selector: \"app-calendar\",\n  templateUrl: \"./calendar.component.html\",\n  styleUrls: [\"./calendar.component.css\"]\n})\nexport class CalendarComponent implements OnInit {\n  display: string = \"month\";\n\n  _d: Date = new Date();\n  selected: GraphItem;\n  events: CalendarEvent[] = [];\n  activeDayIsOpen = false;\n\n  constructor(private data: DataService, private router: Router) {\n    // this.events.push({\n    //   title: \"TEST\",\n    //   start: new Date(),\n    //   end: new Date(),\n    //   color: EventColors.blue\n    // })\n\n    this.data.cy.elements().forEach(i => {\n      let n: GraphItem = i._private;\n\n      if (n.data.start_date || n.data.finish_date) {\n        // start: Date;\n        // end?: Date;\n        // title: string;\n        // color: EventColor;\n        // actions?: EventAction[];\n        // allDay?: boolean;\n        // cssClass?: string;\n        // resizable?: {\n        //     beforeStart?: boolean;\n        //     afterEnd?: boolean;\n        // };\n        // draggable?: boolean;\n        // meta?: MetaType;\n        console.log(\"Adding Event \" + n.data.id + \" at \" + n.data.finish_date);\n\n        let dt: Date = n.data.finish_date;\n        if (typeof dt === \"string\") {\n          dt = new Date(Date.parse(dt));\n        }\n\n        let e: CalendarEvent = {\n          title: n.data.label,\n          start: dt,\n          color: EventColors.blue,\n          meta: n\n        };\n\n        // console.log(\"Adding Event \" + n.data.id + \" EVENT: \" + JSON.stringify(e));\n        this.events.push(e);\n      }\n    });\n  }\n\n  ngOnInit() {}\n\n  public set viewDate(d: Date) {\n    this._d = d;\n  }\n\n  public get viewDate(): Date {\n    return this._d;\n  }\n\n  public eventClicked({ event }: { event: CalendarEvent }) {\n    console.log(\"Event Clicked \");\n    // if (event.meta) {\n    this.selected = event.meta;\n    // }\n  }\n\n  dayClicked({ date, events }: { date: Date; events: CalendarEvent[] }): void {\n    if (isSameMonth(date, this.viewDate)) {\n      if (\n        (isSameDay(this.viewDate, date) && this.activeDayIsOpen) ||\n        events.length === 0\n      ) {\n        this.activeDayIsOpen = false;\n      } else {\n        this.activeDayIsOpen = true;\n        this.viewDate = date;\n      }\n    }\n  }\n\n  public edit() {\n    if (this.selected) {\n      this.router.navigate([\"/edit\", this.selected.data.id]);\n    }\n  }\n\n  public view(r: any) {\n    if (r) {\n      this.router.navigate([\"/view\", r.item.data.id]);\n    }\n    if (this.selected) {\n      this.router.navigate([\"/view\", this.selected.data.id]);\n    }\n  }\n\n  public newItem() {\n    this.router.navigate([\"/edit\"]);\n  }\n\n  public newEdge() {\n    this.router.navigate([\"/edit_edge\"]);\n  }\n}\n\nexport const EventColors: any = {\n  red: {\n    primary: \"#ad2121\",\n    secondary: \"#FAE3E3\"\n  },\n  blue: {\n    primary: \"#1e90ff\",\n    secondary: \"#D1E8FF\"\n  },\n  yellow: {\n    primary: \"#e3bc08\",\n    secondary: \"#FDF1BA\"\n  }\n};\n","module.exports = \".btn-file {\\r\\n  position: relative;\\r\\n  overflow: hidden;\\r\\n}\\r\\n.btn-file input[type=\\\"file\\\"] {\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  min-width: 100%;\\r\\n  min-height: 100%;\\r\\n  font-size: 100px;\\r\\n  text-align: right;\\r\\n  filter: alpha(opacity=0);\\r\\n  opacity: 0;\\r\\n  outline: none;\\r\\n  background: white;\\r\\n  cursor: inherit;\\r\\n  display: block;\\r\\n}\\r\\n.chart-container {\\r\\n  min-height: 400px;\\r\\n}\\r\\n\"","module.exports = \"<h4>Database Manager</h4>\\n<div class=\\\"sticky-top\\\">\\n  <div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\n    <label class=\\\"btn btn-secondary btn-file\\\"><i class=\\\"fa fa-upload\\\" aria-hidden=\\\"true\\\"></i> Upload Database<input type=\\\"file\\\" (change)=\\\"fileChange($event)\\\" placeholder=\\\"Upload file\\\" accept=\\\".json\\\" multiple></label>\\n    <button class=\\\"btn btn-secondary\\\" (click)=\\\"clearDb()\\\"><i class=\\\"fa fa-trash-o\\\" aria-hidden=\\\"true\\\"></i> Clear Database</button>\\n    <button class=\\\"btn btn-secondary\\\" (click)=\\\"downloadFile()\\\"><i class=\\\"fa fa-download\\\" aria-hidden=\\\"true\\\"></i> Download Database</button>\\n  </div>\\n\\n  <div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\n    <button class=\\\"btn btn-info btn-sm\\\" (click)=\\\"type ='pie'\\\" [ngClass]=\\\"{'active': type == 'pie'}\\\"><i class=\\\"fa fa-pie-chart\\\" aria-hidden=\\\"true\\\"></i></button>\\n    <button class=\\\"btn btn-info btn-sm\\\" (click)=\\\"type ='pie_advanced'\\\" [ngClass]=\\\"{'active': type == 'pie_advanced'}\\\"><i class=\\\"fa fa-pie-chart\\\" aria-hidden=\\\"true\\\"></i></button>\\n    <button class=\\\"btn btn-info btn-sm\\\" (click)=\\\"type ='pie_grid'\\\" [ngClass]=\\\"{'active': type == 'pie_grid'}\\\"><i class=\\\"fa fa-pie-chart\\\" aria-hidden=\\\"true\\\"></i></button>\\n    <button class=\\\"btn btn-info btn-sm\\\" (click)=\\\"type ='bar_v'\\\" [ngClass]=\\\"{'active': type == 'bar_v'}\\\"><i class=\\\"fa fa-bar-chart\\\" aria-hidden=\\\"true\\\"></i></button>\\n    <button class=\\\"btn btn-info btn-sm\\\" (click)=\\\"type ='bar_h'\\\" [ngClass]=\\\"{'active': type == 'bar_h'}\\\"><i class=\\\"fa fa-bar-chart fa-rotate-90\\\" aria-hidden=\\\"true\\\"></i></button>\\n  </div>\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-12\\\">\\n    <p>The current source of your database is: {{database.source}}</p>\\n    <p>Current database contains </p>\\n    <ul>\\n      <li>{{database.graph.length}} Graph Items</li>\\n    </ul>\\n  </div>\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-12 chart-container\\\">\\n    <p>Nodes </p>\\n    <app-summary-chart [type]=\\\"type\\\" [items]=\\\"histogram\\\" [width]=\\\"1500\\\" [height]=\\\"400\\\"></app-summary-chart>\\n  </div>\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-12 chart-container\\\">\\n    <p>Edges </p>\\n    <app-summary-chart [type]=\\\"type\\\" [items]=\\\"histogramEdges\\\" [width]=\\\"1500\\\" [height]=\\\"400\\\"></app-summary-chart>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport * as df from 'date-fns';\nimport { saveAs } from 'file-saver';\n\nimport { DataService } from '../data.service';\nimport { Database, GraphItem } from '../models';\nimport { StashService } from '../stash.service';\n\n@Component({\n  selector: \"app-data-manager\",\n  templateUrl: \"./data-manager.component.html\",\n  styleUrls: [\"./data-manager.component.css\"]\n})\nexport class DataManagerComponent implements OnInit {\n  type = \"pie_advanced\";\n  view: any[] = [700, 400];\n  histogram: any;\n  histogramEdges: any;\n\n  // options\n  showLegend = true;\n  xAxisLabel = \"Country\";\n  showYAxisLabel = true;\n  yAxisLabel = \"Population\";\n\n  colorScheme = {\n    domain: [\"#5AA454\", \"#A10A28\", \"#C7B42C\", \"#AAAAAA\"]\n  };\n\n  database: Database;\n  repos = new Array();\n  constructor(private dataService: DataService, private stash: StashService) {\n    this.dataService.getDb().subscribe(db => {\n      this.database = db;\n      this.histogram = DataService.countNodes(this.dataService.cy.elements());\n      this.histogramEdges = DataService.countEdges(\n        this.dataService.cy.elements()\n      );\n    });\n  }\n\n  ngOnInit() {}\n\n  public clearDb() {\n    this.dataService.clearDb();\n  }\n\n  public fileChange(event) {\n    let files = event.target.files;\n    this.dataService.addFiles(files, () => {});\n  }\n\n  downloadFile() {\n    let data: string = JSON.stringify(this.database);\n    var blob = new Blob([data], { type: \"application/json;charset=utf-8\" });\n    saveAs(blob, \"database.json\");\n  }\n\n  public onSelect(event) {\n    console.log(\"Selected\");\n  }\n\n  public readProcessFile(slug: string) {\n    this.stash.getProcessesFile(slug).subscribe(\n      data => {\n        console.log(data);\n        this.repos = data;\n      },\n      err => {\n        console.log(\"ERROR READING FILE\" + JSON.stringify(err));\n        console.error(err);\n      }\n    );\n  }\n\n  public getRepoList() {\n    this.stash.getRepos().subscribe(\n      data => {\n        console.log(data);\n        this.repos = data;\n      },\n      err => {\n        console.log(\"ERROR \" + JSON.stringify(err));\n        console.error(err);\n      }\n    );\n    console.log(\"clicked\");\n  }\n\n  public randomDates() {\n    this.dataService.cy.elements().forEach(i => {\n      let n: GraphItem = i._private;\n\n      // Generate a random date\n\n      let yr = 2017;\n      let mon = Math.floor(Math.random() * 3) + 9;\n      let days = Math.floor(Math.random() * 60) + 1;\n      let dateStart = new Date(yr, mon, 0, 0, 0, 0);\n      let dt = df.addDays(dateStart, days);\n      let duration = Math.floor(Math.random() * 30) + 1;\n      n.data.start_date = dt;\n      n.data.finish_date = df.addDays(dt, duration);\n    });\n  }\n\n  public edgeLabels() {\n    let types = this.dataService.nodeTypes;\n    this.dataService.cy.nodes().forEach(i => {\n      let n: GraphItem = i._private;\n      let type = n.data.type;\n      types.forEach(t => {\n        if (t.value == type.toLowerCase()) {\n          n.data.type = t.value;\n        }\n      });\n    });\n\n    this.dataService.cy.edges().forEach(i => {\n      let n: GraphItem = i._private;\n\n      let a = this.dataService.label(n.data.target);\n      let b = this.dataService.label(n.data.source);\n      let c = this.dataService.edgeTypeLabel(n.data.type);\n\n      if (!c) {\n        n.data.type = \"dependency\";\n        c = \"Depends On\";\n      }\n\n      n.data.label = b + \" \" + c + \" \" + a;\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { LocalStorageService } from 'angular-2-local-storage';\nimport { UUID } from 'angular2-uuid';\nimport * as _ from 'lodash';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\nimport { Database, DbConfig, EdgeType, GraphItem, NodeType } from './models';\n\n@Injectable()\nexport class DataService {\n  database: BehaviorSubject<Database>;\n  public cyo: BehaviorSubject<any>;\n\n  public cy: any;\n  constructor(\n    private localStorageService: LocalStorageService,\n    private http: Http\n  ) {\n    // Init Cytoscape engine\n\n    this.cyo = new BehaviorSubject<any>(this.cy);\n\n    console.info(\"Reading from Local Storage\");\n\n    let dbString = this.localStorageService.get<string>(\"database\");\n    var db: Database;\n    if (dbString) {\n      // console.info(\"Read \" + dbString);\n      db = JSON.parse(dbString);\n      db.source = \"Local Storage\";\n      db.structure = new DbConfig();\n      this.generateCy(db);\n    } else {\n      db = new Database();\n      this.generateCy(db);\n\n      this.loadDefaultData();\n    }\n    this.database = new BehaviorSubject(db); //Signals that we are ready\n    this.deconflict(db);\n\n  }\n\n  private loadFromLocalStorage(dbString): Observable<Database> {\n    let db = JSON.parse(dbString);\n    db.source = \"Local Storage\";\n    return of(db);\n  }\n\n  public nodeType(value: string) {\n    return _.find(this.nodeTypes, t => t.value == value);\n  }\n\n  public edgeType(value: string) {\n    return _.find(this.edgeTypes, t => t.value == value);\n  }\n\n  public get nodeTypes(): NodeType[] {\n    return this.database.getValue().structure.nodeTypes;\n  }\n\n  public get edgeTypes(): EdgeType[] {\n    return this.database.getValue().structure.edgeTypes;\n  }\n\n  public static countNodes(elements): NameValue<number>[] {\n    let items = _.filter(elements, (item: any) => item.group() == \"nodes\");\n    return DataService.countAll(items);\n  }\n\n  public static countEdges(elements): NameValue<number>[] {\n    let items = _.filter(elements, (item: any) => item.group() == \"edges\");\n    return DataService.countAll(items);\n  }\n\n  public static countAll(elements): NameValue<number>[] {\n    let results = _.countBy(elements, (item: any) => item.data(\"type\"));\n    let counts = new Array<NameValue<number>>();\n    Object.keys(results).forEach(key => {\n      counts.push({\n        name: key,\n        value: results[key]\n      });\n    });\n    return counts;\n  }\n\n  /**\n   * Generate the Graph Representation in Cytoscape\n   * @param db Database to use\n   */\n  private generateCy(db: Database = this.database.getValue()) {\n    console.info(\"Generating CY Elements\");\n\n    this.cy = cytoscape({\n      headless: true,\n      styleEnabled: false\n    });\n\n    // if (db.graph) {\n    // Add the nodes\n    db.graph.forEach((i: GraphItem) => {\n      console.debug(\"Adding \" + i.data.id);\n      this.cy.add(i);\n    });\n    // }\n\n    this.cyo.next(this.cy);\n    console.info(\"Complete CY \" + this.cy.elements().length);\n  }\n\n  public getDb(): Observable<Database> {\n    return this.database.asObservable();\n  }\n\n  public add(item: GraphItem) {\n    this.database.getValue().graph.push(item);\n    this.deconflict();\n    this.cy.add(item);\n    this.save();\n  }\n\n  public edgeTypeLabel(value: string) {\n    return _.result(_.find(this.edgeTypes, { value: value }), \"label\");\n  }\n\n  public label(id: string) {\n    let i = this.getItem(id);\n    if (i) {\n      return i.data.label;\n    }\n    return \"\";\n  }\n\n  public addEdge(\n    target: string,\n    source: string,\n    type: string,\n    version?: string,\n    label?: string,\n    id?: string\n  ): GraphItem {\n    let e = new GraphItem();\n    e.group = \"edges\";\n    e.data.target = target;\n    e.data.source = source;\n    e.data.id = id ? id : UUID.UUID();\n    e.data.from = e.data.source;\n    e.data.to = e.data.target;\n    e.data.label = label ? label : version;\n    e.data.type = type;\n\n    // Check if the target and source already exist\n    if (!this.exists(target)) {\n      let tNode = DataService.makeDefault(target);\n      this.add(tNode);\n    }\n    if (!this.exists(source)) {\n      let sNode = DataService.makeDefault(source);\n      this.add(sNode);\n    }\n\n    this.database.getValue().graph.push(e);\n    this.cy.add(e);\n\n    this.save();\n\n    return e;\n  }\n\n  /** Saves to Local Storage */\n  public save() {\n    this.localStorageService.set(\n      \"database\",\n      JSON.stringify(this.database.getValue())\n    );\n    console.info(\"Wrote updated database to local storage\");\n  }\n\n  public remove(id: string) {\n    console.info(\"Removing item with id \" + id);\n    this.cy.remove(\"#\" + id);\n    _.remove(this.database.getValue().graph, item => item.data.id == id);\n    this.save();\n  }\n\n  public static makeDefault(\n    id: string,\n    type: string = \"Generated\",\n    name?: string\n  ): GraphItem {\n    let n = new GraphItem();\n    n.data.id = id;\n    n.data.type = type;\n    n.data.label = name ? name : id;\n    return n;\n  }\n\n  public makeIfNeeded(\n    id: string,\n    type: string = \"Generated\",\n    name?: string\n  ): GraphItem {\n    let n = this.getItem(id);\n    if (!n) {\n      n = DataService.makeDefault(id, type, name);\n      this.add(n);\n    }\n    return n;\n  }\n\n  public exists(id: string): boolean {\n    return this.cy.getElementById(id);\n  }\n\n  public getItem(id: string): GraphItem {\n    let item = this.cy.getElementById(id);\n    if (item && item._private && item.length == 1) {\n      return item._private;\n    }\n    return undefined;\n  }\n\n  public getEdgesWith(id: string): GraphItem[] {\n    let item = this.cy.getElementById(id);\n    if (item) {\n      let rtn = [];\n      let items = [];\n      items.push(...item.connectedEdges());\n      items.forEach(element => {\n        let nodeEdge = element._private;\n        if (nodeEdge.group == \"edges\") {\n          rtn.push(nodeEdge);\n        }\n      });\n      return rtn;\n    } else {\n      return [];\n    }\n  }\n  public getEdgesFrom(id: string): GraphItem[] {\n    let item = this.cy.getElementById(id);\n    if (item) {\n      let rtn = [];\n      let items = [];\n      items.push(...item.outgoers());\n      items.forEach(element => {\n        let nodeEdge = element._private;\n        if (nodeEdge.group == \"edges\") {\n          rtn.push(nodeEdge);\n        }\n      });\n      return rtn;\n    } else {\n      return [];\n    }\n  }\n\n  public findItem(value: string, field: string = \"id\"): GraphItem {\n    if (field == \"id\") {\n      return this.getItem(value);\n    }\n\n    let selector = DataService.selector(value, field);\n    this.cy.elements(selector).forEach(item => {\n      return item._private;\n    });\n\n    return undefined;\n  }\n\n  public static selector(value: string, field: string = \"id\") {\n    return 'node[ + \"field + \"=\"' + value + '\"]';\n  }\n\n  public findAll(term: string): string[] {\n    let lcase = term.toLocaleLowerCase();\n    let vals: string[] = [];\n    this.database.getValue().graph.forEach(item => {\n      if (item.data.id.toLocaleLowerCase().startsWith(lcase)) {\n        vals.push(item.data.id);\n      }\n    });\n    vals.sort();\n    return vals;\n  }\n\n  public findAll2(term: string): GraphItem[] {\n    let lcase = term.toLocaleLowerCase();\n    let vals: GraphItem[] = [];\n    this.database.getValue().graph.forEach(item => {\n      if (\n        item.group == \"nodes\" &&\n        item.data.label.toLocaleLowerCase().startsWith(lcase)\n      ) {\n        vals.push(item);\n      }\n    });\n    vals.sort((a, b): number => {\n      return a.data.label.localeCompare(b.data.label);\n    });\n    return vals;\n  }\n\n  public clearDb() {\n    console.warn(\"Clearing Database\");\n\n    this.localStorageService.remove(\"database\");\n    if (this.cy) {\n      this.cy.elements().remove();\n      this.cy.destroy();\n    }\n    this.database.next(new Database());\n  }\n\n  public addFiles(files: FileList, callback: () => void) {\n    console.info(\"Adding  \" + files.length + \" new database files\");\n\n    for (let i = 0; i < files.length; i++) {\n      this.addFile(files[i], callback);\n    }\n    // this.generateCy(this.database.getValue());\n    this.deconflict();\n  }\n\n  public addFile(file: File, callback: () => void) {\n    console.info(\"Adding new Database file \" + file.name);\n\n    let local = this.localStorageService;\n    let db = this.database.getValue();\n    let r = new FileReader();\n    r.onload = e => {\n      console.debug(r.result);\n      let obj = <Database>JSON.parse(r.result);\n      let source = file.name.replace(\".json\", \"\");\n      if (obj.graph) {\n        // Add Nodes\n        obj.graph.forEach(item => {\n          if (item.group == \"nodes\") {\n            // add to the database\n            db.graph.push(item);\n\n            // add the node to Cytoscape\n            this.cy.add(item);\n          }\n        });\n\n        obj.graph.forEach(item => {\n          if (item.group == \"edges\") {\n            // Check that nodes exist\n            if (this.validate(item)) {\n              // add to the database\n              db.graph.push(item);\n\n              // add the node to Cytoscape\n              this.cy.add(item);\n            } else {\n              console.warn(\n                \"Invalid Edge:\" +\n                item.data.label +\n                \" ( \" +\n                item.data.id +\n                \") t:\" +\n                item.data.target +\n                \" s:\" +\n                item.data.source\n              );\n            }\n          }\n        });\n        console.info(\n          file.name + \" contained \" + obj.graph.length + \" items\"\n        );\n      }\n\n      this.save();\n      callback();\n    };\n    r.readAsText(file);\n  }\n\n  /**\n   * Loads the default database\n   */\n  public loadDefaultData() {\n    console.info(\"Reading Default Database\");\n    this.http.get(\"assets/data/database.json\").subscribe(res => {\n      let db = <Database>res.json();\n\n      db.graph.forEach(i => {\n        let a: any = i.data.start_date;\n        let b: any = i.data.finish_date;\n\n        if (typeof a == \"string\") {\n          i.data.start_date = new Date(a);\n        }\n\n        if (typeof b == \"string\") {\n          i.data.finish_date = new Date(b);\n        }\n      });\n\n      // DataService.generateGraph(db)\n      db.source = \"Default\";\n\n      db.structure = new DbConfig();\n      this.generateCy(db);\n\n      console.info(\"DB2\");\n\n      this.database.next(db);\n      // this.database = new BehaviorSubject(db) //Signals that we are ready\n\n      console.info(\"DECONFLICT\");\n      this.deconflict(db);\n    });\n  }\n\n  /**\n   * Generates a valid ID for a graph item\n   * @param s original ID\n   */\n  public static valid(s: string): string {\n    try {\n      return s\n        .replace(\" \", \"_\")\n        .replace(\" \", \"_\")\n        .replace(\" \", \"_\")\n        .replace(\" \", \"_\");\n    } catch (error) {\n      console.log(\"BAD \" + JSON.stringify(s));\n    }\n    return \"\";\n  }\n\n  public validate(item: GraphItem): boolean {\n    if (item.group == \"edges\") {\n      if (!item.data.target || !this.exists(item.data.target)) {\n        return false;\n      }\n      if (!item.data.source || !this.exists(item.data.source)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Deconflicts and corrects all the nodes in the graph ensuring that there are nodes for each edge and that duplicate ids (edges and nodes) are merged\n   * @param db \n   */\n  private deconflict(db: Database = this.database.getValue()) {\n    let g = db.graph;\n\n    // First make sure that there are no duplicates\n    let groups = _.groupBy(g, \"data.id\");\n    Object.keys(groups).forEach(id => {\n      let arr = groups[id];\n      if (arr.length > 1) {\n        let keep = arr[0];\n        for (let i = 1; i < arr.length; i++) {\n          // Copy all the attributes\n          Object.assign(keep, arr[i]);\n          // Remove the duplicate item\n          _.pull(g, arr[i]);\n        }\n      }\n    });\n\n    // Now make sure that all the nodes are present\n    g.forEach(item => {\n      if (item.group == \"edges\") {\n        let t = item.data.target;\n        if (!groups[t]) {\n          let n = new GraphItem();\n          n.data.id = t;\n          n.data.label = t;\n          n.data.type = \"Generated\";\n          g.push(n);\n          groups[t] = [n];\n        }\n\n        let s = item.data.source;\n        if (!groups[s]) {\n          let n = new GraphItem();\n          n.data.id = s;\n          n.data.label = s;\n          n.data.type = \"Generated\";\n          g.push(n);\n          groups[s] = [n];\n        }\n      }\n    });\n\n    // Now fix all the ids so they are valid\n    g.forEach(item => {\n      item.data.id = DataService.valid(item.data.id);\n      if (item.group == \"edges\") {\n        item.data.target = item.data.to = DataService.valid(item.data.target);\n        item.data.source = item.data.from = DataService.valid(item.data.source);\n        item.data.version = item.data.label;\n      } else {\n        if (item.data.parent) {\n          let parent = this.makeIfNeeded(item.data.parent);\n          this.addEdge(item.data.parent, item.data.id, \"Parent\");\n          item.data.parent = undefined;\n        }\n      }\n    });\n  }\n}\n\nclass Zipped {\n  dbs: Database[] = new Array();\n  repos: any[] = new Array();\n}\n\nclass NameValue<T> {\n  name: string;\n  value: T;\n}\nclass Util { }\n","module.exports = \".full {\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  min-height: 400px;\\r\\n  min-width: 400px;\\r\\n}\\r\\n\\r\\n.library {\\r\\n  background-color: yellow\\r\\n}\\r\\n\\r\\n.check {\\r\\n  margin-left: -24px\\r\\n}\\r\\n\\r\\n.gutter {\\r\\n  padding-left: 1.75rem\\r\\n}\\r\\n\\r\\n.navigator {\\r\\n  display: block;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  min-width: 200px;\\r\\n  min-height: 150px;\\r\\n  overflow: hidden;\\r\\n  box-shadow: 10px 10px 10px #888888;\\r\\n  outline: #ffffff solid thick;\\r\\n}\\r\\n\\r\\n.hidden {\\r\\n  display: none;\\r\\n}\\r\\n\"","module.exports = \"<h4> Network Graph</h4>\\n\\n<span>Layout </span>\\n\\n<div class=\\\"btn-group btn-group-sm  mb-1 \\\" role=\\\"group\\\" aria-label=\\\"Button group with nested dropdown\\\">\\n  <div class=\\\"btn-group btn-group-sm\\\" role=\\\"group\\\">\\n    <div ngbDropdown class=\\\"d-inline-block\\\">\\n      <button class=\\\"btn btn-secondary btn-sm\\\" id=\\\"ddCog2\\\" ngbDropdownToggle>{{layout.name}}</button>\\n      <div ngbDropdownMenu aria-labelledby=\\\"ddCog2\\\">\\n        <button class=\\\"dropdown-item gutter\\\" *ngFor=\\\"let l of layoutChoices\\\" (click)=\\\"setLayout(l)\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"l == layout\\\"></i> {{l.name}}</button>\\n      </div>\\n    </div>\\n  </div>\\n  <button class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"update()\\\"><i class=\\\"fa fa-refresh\\\"></i></button>\\n</div>\\n\\n<div class=\\\"btn-group btn-group-sm mb-1 mr-auto\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\" *ngIf=\\\"large\\\">\\n  <button class=\\\"btn btn-info btn-sm\\\" *ngFor=\\\"let t of types\\\" (click)=\\\"toggleFilter(t.value)\\\" [ngClass]=\\\"{'active': isFiltered(t.value)}\\\">{{t.label}}</button>\\n</div>\\n\\n<div ngbDropdown class=\\\"d-inline-block\\\" *ngIf=\\\"!large\\\">\\n  <button class=\\\"btn btn-sm btn-info mb-1\\\" id=\\\"dropdownBasic1\\\" ngbDropdownToggle><i class=\\\"fa fa-filter\\\"></i> Types</button>\\n  <div ngbDropdownMenu aria-labelledby=\\\"dropdownBasic1\\\">\\n    <button class=\\\"dropdown-item gutter\\\" *ngFor=\\\"let t of types\\\" (click)=\\\"toggleFilter(t)\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"isFiltered(t)\\\"></i>{{t}}</button>\\n  </div>\\n</div>\\n\\n<div ngbDropdown class=\\\"d-inline-block\\\">\\n  <button class=\\\"btn btn-secondary btn-sm  mb-1 \\\" id=\\\"ddCog\\\" ngbDropdownToggle><i class=\\\"fa fa-cog\\\"></i></button>\\n  <div ngbDropdownMenu aria-labelledby=\\\"ddCog\\\">\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"toggleAuto()\\\"><i class=\\\"fa fa-check  fa-fw check\\\" *ngIf=\\\"prefs.autoLayout\\\"></i> Auto Layout</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"toggleNav()\\\" *ngIf=\\\"large\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.showNavigator\\\"></i> Navigator</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"toggleZoom()\\\" *ngIf=\\\"large\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.showZoom\\\"></i> Zoom / Pan Controls</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"toggleVersion()\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.showVersion\\\"></i> Version Information</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"toggleArrows()\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.showArrows\\\"></i> Dependency Arrows</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"toggleSized()\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.sized\\\"></i> Size Based on Dependencies</button>\\n\\n    <div class=\\\"dropdown-divider dropdown-provider-override\\\"></div>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"setSelectPref('neighborhood')\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.select=='neighborhood'\\\"></i> 1st Level Incoming and Outgoing</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"setSelectPref('incomers')\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.select=='incomers'\\\"></i> 1st Level Incoming</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"setSelectPref('outgoers')\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.select=='outgoers'\\\"></i> 1st Level Outgoing</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"setSelectPref('big-neighborhood')\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.select=='big-neighborhood'\\\"></i> All Incoming and Outgoing</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"setSelectPref('successors')\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.select=='successors'\\\"></i> All Incoming</button>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"setSelectPref('predessors')\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.select=='predessors'\\\"></i> All Outgoing</button>\\n\\n    <div class=\\\"dropdown-divider dropdown-provider-override\\\"></div>\\n\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"resetPreferences()\\\"> Reset Preferences</button>\\n  </div>\\n</div>\\n\\n<div>\\n  <div class=\\\"full\\\" #drawingArea>\\n    <div class=\\\"navigator\\\" #navigator [ngClass]=\\\"{'hidden': large?!prefs.showNavigator:true}\\\"></div>\\n  </div>\\n</div>\\n\"","import {\n  Component,\n  OnInit,\n  ViewChild,\n  AfterContentInit,\n  HostListener,\n  OnDestroy\n} from \"@angular/core\";\n\nimport { DataService } from \"../data.service\";\nimport { LocalStorageService } from \"angular-2-local-storage\";\nimport { Database, GraphItem } from \"../models\";\nimport { Styles } from \"../styles\";\n\nimport * as _ from \"lodash\";\n\n@Component({\n  selector: \"app-dependency-graph\",\n  templateUrl: \"./dependency-graph.component.html\",\n  styleUrls: [\"./dependency-graph.component.css\"]\n})\nexport class DependencyGraphComponent\n  implements OnInit, AfterContentInit, OnDestroy {\n  LOCAL_STORAGE_KEY = \"DependencyGraphComponent.PREFS\";\n\n  @ViewChild(\"drawingArea\") drawingArea;\n  @ViewChild(\"navigator\") navigator;\n  cyZoom;\n  cy: any;\n  large = true;\n  db: Database;\n  styles = new Styles();\n  layoutChoices = [\n    { name: \"Breadth First\", value: \"breadthfirst\" },\n    { name: \"Circle\", value: \"circle\" },\n    { name: \"Concentric\", value: \"concentric\" },\n    { name: \"COSE\", value: \"cose\" },\n    { name: \"Directed Graph\", value: \"dagre\" },\n    { name: \"Grid\", value: \"grid\" }\n  ];\n\n  types = [\n  ];\n\n  layout = this.layoutChoices[2];\n\n  prefs = new Prefs();\n\n  constructor(\n    private dataSvc: DataService,\n    private localStorage: LocalStorageService\n  ) {\n    // Read Prefereces\n    let str = <string>this.localStorage.get(this.LOCAL_STORAGE_KEY);\n    if (str) {\n      this.prefs = JSON.parse(str);\n      if (this.prefs.layoutChoice >= 0) {\n        this.layout = this.layoutChoices[this.prefs.layoutChoice];\n      }\n    }\n\n    // Monitor ScreenSize\n    let mq = window.matchMedia(\"(min-width: 992px)\");\n    this.large = mq.matches;\n    mq.addListener(newMatch => {\n      this.large = newMatch.matches;\n      this.updateForMedia();\n    });\n\n    this.types = this.dataSvc.nodeTypes;\n  }\n\n  //STUPID, STUPID, STUPID\n  ngAfterContentInit() {\n    setTimeout(() => {\n      if (this.resize()) {\n        this.update();\n        setTimeout(() => {\n          if (this.resize()) {\n            this.update();\n          }\n        }, 1000);\n      }\n    }, 300);\n  }\n\n  @HostListener(\"window:resize\", [\"$event\"])\n  onResize(event) {\n    // let windowH = event.target.innerHeight\n    // var rect = this.drawingArea.nativeElement.getBoundingClientRect();\n    // this.drawingArea.nativeElement.style.height = (windowH - rect.top - 10) + \"px\"\n    this.resize();\n  }\n\n  public resize() {\n    // Resize the main window\n    var rect = this.drawingArea.nativeElement.getBoundingClientRect();\n    let windowH = window.innerHeight;\n    let newH = windowH - rect.top - 10;\n    if (newH == this.drawingArea.nativeElement.style.height) {\n      // nochange\n      return false;\n    } else {\n      this.drawingArea.nativeElement.style.height =\n        windowH - rect.top - 10 + \"px\";\n\n      let r2 = this.drawingArea.nativeElement.getBoundingClientRect();\n      let aspect = r2.width / r2.height;\n\n      let navH = 100;\n      let navW = navH * aspect;\n      this.navigator.nativeElement.style.height = navH + 6 + \"px\";\n      this.navigator.nativeElement.style.width = navW + \"px\";\n      return true;\n    }\n  }\n\n  public isLayout(layout: any): boolean {\n    return this.layout.value == layout.value;\n  }\n\n  public isFiltered(l: string): boolean {\n    return _.includes(this.prefs.filtered, l);\n  }\n\n  public setLayout(newLayout: any) {\n    this.layout = newLayout;\n    this.prefs.layoutChoice = _.indexOf(this.layoutChoices, newLayout);\n    this.savePrefs();\n    this.update();\n  }\n\n  public setSelectPref(p: string) {\n    this.prefs.select = p;\n    this.update();\n  }\n\n  public update() {\n    let layoutOptions = {\n      name: this.layout.value,\n      nodeSpacing: 5,\n      minNodeSpacing: 30,\n      edgeLengthVal: 45,\n      animate: true\n    };\n\n    this.getActiveEles()\n      .layout(layoutOptions)\n      .run();\n  }\n\n  public toggleSized() {\n    this.prefs.sized = !this.prefs.sized;\n    this.updateSized();\n  }\n\n  public updateSized() {\n    if (this.prefs.sized) {\n      this.cy.nodes().addClass(\"sized\");\n    } else {\n      this.cy.nodes().removeClass(\"sized\");\n    }\n  }\n\n  public toggleAuto() {\n    this.prefs.autoLayout = !this.prefs.autoLayout;\n    this.savePrefs();\n    this.update();\n  }\n\n  public toggleNav() {\n    this.prefs.showNavigator = !this.prefs.showNavigator;\n    this.savePrefs();\n  }\n\n  public toggleVersion() {\n    this.prefs.showVersion = !this.prefs.showVersion;\n    this.savePrefs();\n    this.updateVersion();\n  }\n\n  public updateVersion() {\n    if (this.prefs.showVersion) {\n      this.cy.edges().addClass(\"version\");\n    } else {\n      this.cy.edges().removeClass(\"version\");\n    }\n  }\n  public toggleArrows() {\n    this.prefs.showArrows = !this.prefs.showArrows;\n    this.savePrefs();\n    this.updateArrows();\n  }\n\n  public updateArrows() {\n    if (this.prefs.showArrows) {\n      this.cy.edges().addClass(\"arrow\");\n    } else {\n      this.cy.edges().removeClass(\"arrow\");\n    }\n  }\n\n  public toggleFilter(t) {\n    // Toggle the filter\n    let len = this.prefs.filtered.length;\n    let success = _.pull(this.prefs.filtered, t);\n    if (success.length == len) {\n      this.prefs.filtered.push(t);\n    }\n    this.savePrefs();\n    this.updateFilters();\n    this.update();\n  }\n\n  public updateFilters() {\n    this.cy.batch(() => {\n      this.cy.nodes().forEach(p => {\n        let n = p._private;\n        let type = n.data[\"type\"];\n        p.removeClass(\"filtered\");\n        if (_.includes(this.prefs.filtered, type)) {\n          p.addClass(\"filtered\");\n        }\n      });\n    });\n  }\n\n  public highlight(node) {\n    let keep: any;\n\n    let selector = \"#\" + node.id();\n    if (this.prefs.select == \"neighborhood\") {\n      keep = node.closedNeighborhood();\n    } else if (this.prefs.select == \"incomers\") {\n      keep = this.cy.nodes(selector).incomers();\n    } else if (this.prefs.select == \"outgoers\") {\n      keep = this.cy.nodes(selector).outgoers();\n    } else if (this.prefs.select == \"successors\") {\n      keep = this.cy.nodes(selector).successors();\n    } else if (this.prefs.select == \"predecessors\") {\n      keep = this.cy.nodes(selector).predecessors();\n    } else if (this.prefs.select == \"bog-neighborhood\") {\n      keep = this.cy\n        .nodes(selector)\n        .predecessors()\n        .union(this.cy.nodes(selector).successors());\n    }\n\n    if (keep == undefined) {\n      console.log(\n        \"Bad Selection \" + this.prefs.select + \" or BAD Selector \" + selector\n      );\n      keep = node.closedNeighborhood();\n    }\n    var others = this.cy.elements().not(keep);\n\n    console.log(\"Results KEEP=\" + keep.length + \" OUT=\" + others.length);\n\n    this.cy.batch(() => {\n      others.addClass(\"hidden\");\n      keep.removeClass(\"hidden\");\n      this.cy.edges().removeClass(\"hidden\");\n      node.removeClass(\"hidden\");\n      this.update();\n    });\n  }\n\n  ngOnDestroy() {\n    this.cy.destroy();\n  }\n\n  ngOnInit() {\n    // Setup Cy\n    this.cy = cytoscape({\n      container: this.drawingArea.nativeElement,\n      style: this.styles.styles,\n      wheelSensitivity: 0.2\n    });\n    this.setUpExtensions();\n    this.setUpEvents();\n\n    // Add the nodes\n    this.dataSvc.getDb().subscribe(db => {\n      this.db = db;\n      if (db.graph) {\n        // Add the nodes\n        db.graph.forEach((i: GraphItem) => {\n          this.cy.add(i);\n        });\n\n        var max = 1;\n        this.cy.nodes().forEach(p => {\n          let n = p._private;\n          let id = n.data[\"id\"];\n          let l = p.connectedEdges().length;\n          n.data.degree = l;\n          max = Math.max(max, l);\n        });\n        this.styles.setMaxSize(max);\n        this.cy.style(this.styles.styles);\n        this.updateSized();\n        this.updateArrows();\n        this.updateVersion();\n\n        // Layout\n        this.update();\n        this.cy.fit();\n      }\n    });\n  }\n\n  public updateForMedia() {\n    if (!this.large) {\n      this.cyZoom.hidden = true;\n    } else {\n      this.cyZoom.hidden = !this.prefs.showZoom;\n    }\n  }\n\n  public toggleZoom() {\n    this.prefs.showZoom = !this.prefs.showZoom;\n    this.savePrefs();\n    this.updateForMedia();\n  }\n\n  private setUpExtensions() {\n    // Setup Extensions\n    let pzdefaults = {};\n    this.cy.panzoom(pzdefaults);\n    // this.cyZoom = this.drawingArea.nativeElement.\n    this.cyZoom = document.getElementsByClassName(\"cy-panzoom\").item(0);\n    this.updateForMedia();\n\n    let navDefaults = { container: this.navigator.nativeElement };\n    this.cy.navigator(navDefaults);\n  }\n\n  private setUpEvents() {\n    this.cy.on(\"tap\", \"node\", evt => {\n      let _id = evt.target.id();\n      let t = evt.target;\n      this.highlight(t);\n    });\n    this.cy.on(\"tap\", \"edge\", evt => {\n      let _id = evt.target.id();\n    });\n    this.cy.on(\"taphold\", \"node\", evt => {\n      let _id = evt.target.id();\n      let t = evt.target;\n    });\n    this.cy.on(\"unselect\", \"node\", evt => {\n      this.cy.batch(() => {\n        this.cy.elements().removeClass(\"hidden\");\n        this.update();\n      });\n    });\n  }\n\n  private debug(obj: any) {\n    let keys = Object.keys(obj);\n    keys.forEach(k => {\n      console.log(k);\n    });\n  }\n\n  public getActiveEles(): any {\n    if (this.prefs.autoLayout) {\n      return this.cy\n        .elements()\n        .not(\".filtered\")\n        .not(\".hidden\");\n    } else {\n      return this.cy.elements();\n    }\n  }\n\n  public savePrefs() {\n    let str = JSON.stringify(this.prefs);\n    this.localStorage.set(this.LOCAL_STORAGE_KEY, str);\n  }\n\n  public resetPreferences() {\n    this.prefs = new Prefs();\n    if (this.prefs.layoutChoice >= 0) {\n      this.layout = this.layoutChoices[this.prefs.layoutChoice];\n    }\n    this.savePrefs();\n    this.updateArrows();\n    this.updateVersion();\n    this.updateFilters();\n    this.updateSized();\n    this.update();\n  }\n}\n\nclass Prefs {\n  layoutChoice: number = 2;\n  showNavigator = true;\n  showZoom = true;\n  autoLayout = true;\n  showArrows = true;\n  showVersion = true;\n  sized = false;\n  select = \"neighborhood\";\n  filtered: string[] = [\"\"];\n}\n","module.exports = \"table.matrix {\\r\\n  border-spacing: 2px;\\r\\n  border-color: grey;\\r\\n}\\r\\n\\r\\ntd.matrix_left {\\r\\n  border: 1px solid black;\\r\\n  text-align: right;\\r\\n  padding: 5px 10px;\\r\\n  border: 1px solid #ccc;\\r\\n  white-space: nowrap;\\r\\n}\\r\\n\\r\\ntd.matrix {\\r\\n  border: 1px solid black;\\r\\n  width: 40px;\\r\\n  text-align: center;\\r\\n  padding: 0px;\\r\\n  border: 1px solid #ccc;\\r\\n}\\r\\n\\r\\nth.rotate {\\r\\n  font-weight: normal;\\r\\n  height: 180px;\\r\\n  white-space: nowrap;\\r\\n}\\r\\n\\r\\nth.rotate>div {\\r\\n  -webkit-transform: /* Magic Numbers  height-110*/\\r\\n  translate(24px, 70px)\\r\\n  /* 45 is really 360 - 45 */\\r\\n  rotate(315deg);\\r\\n          transform: /* Magic Numbers  height-110*/\\r\\n  translate(24px, 70px)\\r\\n  /* 45 is really 360 - 45 */\\r\\n  rotate(315deg);\\r\\n  width: 30px;\\r\\n}\\r\\n\\r\\nth.rotate>div>span {\\r\\n  border-bottom: 1px solid #ccc;\\r\\n  padding: 5px 10px;\\r\\n  display: inline-block;\\r\\n  width: 200px;\\r\\n}\\r\\n\\r\\nth.rotate>div>span:hover {\\r\\n  background-color: #eee;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\ntd:hover {\\r\\n  background-color: #eee;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.check {\\r\\n  margin-left: -24px\\r\\n}\\r\\n\\r\\n.gutter {\\r\\n  padding-left: 1.75rem\\r\\n}\\r\\n\\r\\n.filled {\\r\\n  background-color: #ccc\\r\\n}\\r\\n\\r\\n.hidden {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.version {\\r\\n  font-size: 8pt;\\r\\n  text-shadow: -1px -1px 0 #ffffff, 1px -1px 0 #ffffff, -1px 1px 0 #ffffff, 1px 1px 0 #ffffff;\\r\\n}\\r\\n\"","module.exports = \"<h4> Dependency Matrix</h4>\\n\\n<span>Rows </span>\\n<div class=\\\"btn-group btn-group-sm  mb-1 \\\" role=\\\"group\\\" aria-label=\\\"Button group with nested dropdown\\\">\\n  <div ngbDropdown class=\\\"d-inline-block\\\">\\n    <button class=\\\"btn btn-secondary btn-sm\\\" id=\\\"ddCog2\\\" ngbDropdownToggle>{{prefs.xAxis|nodetypelabel}}</button>\\n    <div ngbDropdownMenu aria-labelledby=\\\"ddCog2\\\">\\n      <button class=\\\"dropdown-item gutter\\\" *ngFor=\\\"let l of types\\\" (click)=\\\"setX(l.value)\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"l.value == xAxis\\\"></i> {{l.label}}</button>\\n    </div>\\n  </div>\\n</div>\\n\\n<span>Columns </span>\\n<div class=\\\"btn-group btn-group-sm  mb-1 \\\" role=\\\"group\\\" aria-label=\\\"Button group with nested dropdown\\\">\\n  <div ngbDropdown class=\\\"d-inline-block\\\">\\n    <button class=\\\"btn btn-secondary btn-sm\\\" id=\\\"ddCog2\\\" ngbDropdownToggle>{{prefs.yAxis|nodetypelabel}}</button>\\n    <div ngbDropdownMenu aria-labelledby=\\\"ddCog2\\\">\\n      <button class=\\\"dropdown-item gutter\\\" *ngFor=\\\"let l of types\\\" (click)=\\\"setY(l.value)\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"l.value == yAxis\\\"></i> {{l.label}}</button>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\n  <button [disabled]=\\\"!selected\\\" class=\\\"btn btn-secondary btn-sm \\\" (click)=\\\"edit()\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i> Edit </button>\\n  <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"newItem()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Item</button>\\n  <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"newEdge()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Link</button>\\n</div>\\n\\n<div ngbDropdown class=\\\"d-inline-block\\\">\\n  <button class=\\\"btn btn-secondary btn-sm  mb-1 \\\" id=\\\"ddCog\\\" ngbDropdownToggle><i class=\\\"fa fa-cog\\\"></i></button>\\n  <div ngbDropdownMenu aria-labelledby=\\\"ddCog\\\">\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"toggleVersion()\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"prefs.showVersion\\\"></i> Version Information</button>\\n    <div class=\\\"dropdown-divider dropdown-provider-override\\\"></div>\\n    <button class=\\\"dropdown-item gutter\\\" (click)=\\\"resetPreferences()\\\"> Reset Preferences</button>\\n  </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-lg-9\\\">\\n    <table class=\\\"matrix\\\">\\n      <tr>\\n        <th class=\\\"matrix\\\"> </th>\\n        <th *ngFor=\\\"let yHeader of yHeaders\\\" class=\\\"matrix rotate\\\">\\n          <div><span (click)=\\\"select(yHeader)\\\">{{yHeader.display}}</span></div>\\n        </th>\\n      </tr>\\n      <tr *ngFor=\\\"let xHeader of xHeaders; let row = index\\\">\\n        <td class=\\\"matrix_left\\\" (click)=\\\"select(xHeader)\\\">{{xHeader.display}}</td>\\n        <td *ngFor=\\\"let yHeader of yHeaders; let col = index\\\" class=\\\"matrix item\\\" (click)=\\\"select(cells[row][col])\\\" [ngClass]=\\\"{'filled': xHeader.value == yHeader.value}\\\"><i class=\\\"fa fa-fw {{cells[row][col].direction}}\\\"></i><br /> <span class=\\\"version\\\" *ngIf=\\\"prefs.showVersion\\\">{{cells[row][col].version}}</span></td>\\n      </tr>\\n    </table>\\n  </div>\\n  <div class=\\\"col-lg-3\\\" *ngIf=\\\"large\\\">\\n    <div class=\\\" sticky-top\\\">\\n      <app-view [item]=\\\"selected\\\"></app-view>\\n    </div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { DataService } from '../data.service'\nimport { LocalStorageService } from 'angular-2-local-storage'\nimport { Database, GraphItem } from '../models'\n\nimport * as _ from 'lodash'\n\n@Component({\n  selector: 'app-dependency-matrix',\n  templateUrl: './dependency-matrix.component.html',\n  styleUrls: ['./dependency-matrix.component.css']\n})\nexport class DependencyMatrixComponent implements OnInit {\n  LOCAL_STORAGE_KEY = \"DependencyMatrixComponent.PREFS\"\n  types\n\n  db: Database\n  prefs = new Prefs()\n\n  xHeaders: Pair[] = new Array()\n  yHeaders: Pair[] = new Array()\n  cells: Cell[][] = new Array()\n\n  cy: any\n  selected: GraphItem\n  large = true\n\n  constructor(private dataSvc: DataService, private localStorage: LocalStorageService, private router: Router) {\n    // Load Preferences \n    let str = <string>this.localStorage.get(this.LOCAL_STORAGE_KEY)\n    if (str) {\n      this.prefs = JSON.parse(str)\n    }\n\n    // Monitor ScreenSize\n    let mq = window.matchMedia(\"(min-width: 992px)\");\n    this.large = mq.matches\n    mq.addListener(newMatch => {\n      this.large = newMatch.matches\n    });\n\n    // Init Cytoscape engine\n    this.cy = cytoscape({\n      headless: true,\n      styleEnabled: false,\n    });\n\n    // Get the data\n    this.dataSvc.getDb().subscribe(db => {\n      this.db = db\n      this.types = this.db.structure.nodeTypes\n      if (db.graph) {\n        // Add the nodes\n        db.graph.forEach((i: GraphItem) => {\n          this.cy.add(i)\n        })\n        this.generate()\n      }\n\n    })\n  }\n\n  ngOnInit() {\n\n  }\n\n  public view(r: any) {\n    if (r) {\n      this.router.navigate(['/view', r.item.data.id]);\n    }\n    if (this.selected) {\n      this.router.navigate(['/view', this.selected.data.id]);\n    }\n  }\n\n  public newItem() {\n    this.router.navigate(['/edit'])\n  }\n\n  public newEdge() {\n    this.router.navigate(['/edit_edge'])\n  }\n\n  public setY(y: string) {\n    this.prefs.yAxis = y\n    this.savePrefs()\n    this.generate()\n  }\n\n  public setX(x: string) {\n    this.prefs.xAxis = x\n    this.savePrefs()\n    this.generate()\n  }\n\n  public generate() {\n    // Get the unique\n    this.xHeaders = this.getHeaders(this.prefs.xAxis)\n    this.yHeaders = this.getHeaders(this.prefs.yAxis)\n\n    // Get the cells\n    let cells: Cell[][] = new Array()\n    for (let row = 0; row < this.xHeaders.length; row++) {\n      cells[row] = []\n      for (let col = 0; col < this.yHeaders.length; col++) {\n        let x = this.xHeaders[row]\n        let y = this.yHeaders[col]\n        let c = this.getCell(x.value, y.value)\n        // cells.push(c)\n        cells[row][col] = c\n      }\n    }\n    this.cells = cells\n  }\n\n  private getCell(xAxis: string, yAxis: string): Cell {\n    let nodex = this.cy.getElementById(xAxis)\n    let nodey = this.cy.getElementById(yAxis)\n\n    if (nodex && nodey) {\n      let outgoers = nodex.edgesTo('#' + yAxis)\n      let incoming = nodey.edgesTo('#' + xAxis)\n\n      // let incoming = nodex.incomers('#' + yAxis)\n      // let outgoers = nodex.outgoers('#' + yAxis)\n\n      let left = false\n      let top = false\n      let val = new Cell()\n      if (incoming && incoming.length > 0) {\n        top = true\n        val.direction = \"fa-arrow-left\"\n        let n = incoming[0]._private\n        val.version = n.data.version\n        val.value = n.data.id\n      }\n      if (outgoers && outgoers.length > 0) {\n        left = true\n        val.direction = \"fa-arrow-up\"\n        let n = outgoers[0]._private\n        val.version = n.data.version\n        val.value = n.data.id\n      }\n      if (left && top) {\n        val.direction = \"fa-arrow-up\"\n      }\n\n      return val\n    } else {\n      return new Cell()\n    }\n  }\n\n  private getHeaders(type: string): Pair[] {\n    let all = new Array<Pair>()\n\n    let selector = 'node[type=\\\"' + type + '\\\"]'\n    let items = this.cy.nodes(selector)\n\n    items.forEach(p => {\n      let n = p._private\n      let id = n.data['id']\n      let label = n.data.label\n      all.push({ display: label, value: id })\n    });\n\n    return all\n  }\n\n  public toggleVersion() {\n    this.prefs.showVersion = !this.prefs.showVersion\n    this.savePrefs()\n    this.updateVersion()\n  }\n\n  public updateVersion() {\n    //TODO\n  }\n\n  public edit() {\n    if (this.selected) {\n      if (this.selected.group == 'nodes') {\n        this.router.navigate(['/edit', this.selected.data.id]);\n      } else {\n        this.router.navigate(['/edit_edge', this.selected.data.id]);\n      }\n    }\n  }\n\n  public select(me: any) {\n    console.log(\"Selecting \" + me.value);\n    let item = this.dataSvc.findItem(me.value)\n    console.log(\"FOUND = \" + item)\n    this.selected = item\n  }\n\n  public savePrefs() {\n    let str = JSON.stringify(this.prefs)\n    this.localStorage.set(this.LOCAL_STORAGE_KEY, str)\n  }\n\n  public resetPreferences() {\n    this.prefs = new Prefs()\n  }\n}\n\nclass Prefs {\n  showVersion = true\n  xAxis = \"process\"\n  yAxis = \"process\"\n}\n\n\nclass Pair {\n  display: string\n  value: string\n}\n\nclass Cell {\n  value: string\n  direction: string\n  version: string\n}\n","module.exports = \"\"","module.exports = \"<ng-table [config]=\\\"config\\\" (tableChanged)=\\\"onChangeTable(config)\\\" (cellClicked)=\\\"onCellClick($event)\\\" [rows]=\\\"rows\\\" [columns]=\\\"columns\\\">\\n</ng-table>\\n\"","import { Component, OnInit, Input, OnChanges, SimpleChange } from '@angular/core';\nimport { DataService } from '../data.service'\nimport { LocalStorageService } from 'angular-2-local-storage'\nimport { Database, GraphItem } from '../models'\nimport * as _ from 'lodash'\n\n@Component({\n  selector: 'app-dependency-table',\n  templateUrl: './dependency-table.component.html',\n  styleUrls: ['./dependency-table.component.css']\n})\nexport class DependencyTableComponent implements OnInit, OnChanges {\n\n  @Input() dependencyType: string = \"predecessors\"\n  _items: any[] = new Array()\n  _filters: string[] = new Array()\n  predecessors: any[] = []\n  successors: any[] = []\n  rows: any[] = []\n\n  db: Database\n  cy: any\n\n  public columns: Array<any> = [\n    {\n      title: 'Name',\n      name: 'id',\n      filtering: { filterString: '', placeholder: 'Filter by name' }\n    },\n    {\n      title: 'Type',\n      name: 'type',\n      filtering: { filterString: '', placeholder: 'Filter by component' }\n    },\n    {\n      title: 'Version',\n      name: 'version',\n      filtering: { filterString: '', placeholder: 'Filter by source' }\n    }\n\n  ];\n\n  public config: any = {\n    paging: false,\n    sorting: { columns: this.columns },\n    filtering: { filterString: '' },\n    className: ['table-striped', 'table-bordered']\n  };\n\n  constructor(private dataSvc: DataService, private localStorage: LocalStorageService) {\n    // Init Cytoscape engine\n    this.cy = cytoscape({\n      headless: true,\n      styleEnabled: false,\n    });\n\n    // Get the data\n    this.dataSvc.getDb().subscribe(db => {\n      this.db = db\n      if (db.graph) {\n        // Add the nodes\n        db.graph.forEach((i: GraphItem) => {\n          this.cy.add(i)\n        })\n        this.generate()\n      }\n    })\n  }\n\n  @Input()\n  set items(newItems: string[]) {\n    this._items = newItems\n    this.generate()\n  }\n\n  @Input()\n  set filters(filters: string[]) {\n    this._filters = filters\n    this.generate()\n  }\n\n  ngOnChanges(changes: { [propKey: string]: SimpleChange }) {\n    this.generate()\n  }\n\n  public ngOnInit(): void {\n    this.onChangeTable(this.config);\n  }\n\n  public changePage(page: any, data: Array<any>): Array<any> {\n    // let start = (page.page - 1) * page.itemsPerPage;\n    // let end = page.itemsPerPage > -1 ? (start + page.itemsPerPage) : data.length;\n    // return data.slice(start, end);\n    return null\n  }\n\n  public changeSort(data: any, config: any): any {\n    if (!config.sorting) {\n      return data;\n    }\n\n    let columns = this.config.sorting.columns || [];\n    let columnName: string = void 0;\n    let sort: string = void 0;\n\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].sort !== '' && columns[i].sort !== false) {\n        columnName = columns[i].name;\n        sort = columns[i].sort;\n      }\n    }\n\n    if (!columnName) {\n      return data;\n    }\n\n    // simple sorting\n    return data.sort((previous: any, current: any) => {\n      if (previous[columnName] > current[columnName]) {\n        return sort === 'desc' ? -1 : 1;\n      } else if (previous[columnName] < current[columnName]) {\n        return sort === 'asc' ? -1 : 1;\n      }\n      return 0;\n    });\n  }\n\n  public changeFilter(data: any, config: any): any {\n    let filteredData: Array<any> = data;\n    this.columns.forEach((column: any) => {\n      if (column.filtering) {\n        filteredData = filteredData.filter((item: any) => {\n          if (item[column.name]) {\n            return item[column.name].match(column.filtering.filterString);\n          }\n          console.log(\"OOPS \" + column.name);\n          return true;\n        });\n      }\n    });\n\n    if (!config.filtering) {\n      return filteredData;\n    }\n\n    if (config.filtering.columnName) {\n      return filteredData.filter((item: any) => {\n        if (item[config.filtering.columnName]) {\n          item[config.filtering.columnName].match(this.config.filtering.filterString)\n        }\n      }\n      );\n    }\n\n    let tempArray: Array<any> = [];\n    filteredData.forEach((item: any) => {\n      let flag = false;\n      this.columns.forEach((column: any) => {\n        if (item[column.name] && item[column.name].toString().match(this.config.filtering.filterString)) {\n          flag = true;\n        }\n      });\n      if (flag) {\n        tempArray.push(item);\n      }\n    });\n    filteredData = tempArray;\n\n    return filteredData;\n  }\n\n  public onChangeTable(config: any, page: any = {}): any {\n    if (config.filtering) {\n      Object.assign(this.config.filtering, config.filtering);\n    }\n\n    if (config.sorting) {\n      Object.assign(this.config.sorting, config.sorting);\n    }\n\n    if (this.predecessors) {\n      let filteredData = this.changeFilter(this.predecessors, this.config);\n      let sortedData = this.changeSort(filteredData, this.config);\n      this.rows = sortedData;\n    }\n  }\n\n  public onCellClick(data: any): any {\n    console.log(\"clicked \" + JSON.stringify(data))\n  }\n\n  public onAdd($event: string) {\n    this.generate()\n  }\n\n  public onRemove($event: string) {\n    this.generate()\n  }\n\n  public generate() {\n    // quick out\n    if (this._items.length == 0) {\n      this.predecessors = []\n      this.onChangeTable(this.config);\n      return\n    }\n\n    let mine: string[] = []\n    this._items.forEach(i => {\n      mine.push('#' + i)\n    })\n    let selector = mine.join(',')\n    console.log(\"SELECTOR \" + selector);\n\n    let preds: any\n\n    if (this.dependencyType == 'predecessors') {\n      preds = this.cy.nodes(selector).predecessors()\n    } else if (this.dependencyType == 'successors') {\n      preds = this.cy.nodes(selector).successors()\n    } else if (this.dependencyType == 'incomers') {\n      preds = this.cy.nodes(selector).incomers()\n    } else if (this.dependencyType == 'outgoers') {\n      preds = this.cy.nodes(selector).outgoers()\n    }\n\n\n    let newPreds = []\n    preds.forEach(p => {\n      let n = p._private\n      if (n.group == 'nodes') {\n        if (!_.includes(this._filters, n.data.type)) {\n          let item = {\n            id: n.data['id'],\n            type: n.data['type'],\n            version: n.data['version']\n          }\n          newPreds.push(item)\n        }\n      }\n    });\n\n    this.predecessors = newPreds\n    this.onChangeTable(this.config);\n  }\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'edgelabel'\n})\nexport class EdgelabelPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    return null;\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"container-fluid sticky-top\\\">\\n  <div class=\\\"row justify-content-end\\\">\\n\\n    <button class=\\\"btn btn-info btn-sm mr-1\\\" (click)=\\\"save()\\\" type=\\\"button\\\">\\n                    <i class=\\\"fa fa-floppy-o\\\" aria-hidden=\\\"true\\\"> Save</i>\\n                </button>\\n    <button class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n                    <i class=\\\"fa fa-ban\\\" aria-hidden=\\\"true\\\"> Cancel</i>\\n                </button>\\n  </div>\\n</div>\\n\\n<h6 class=\\\"text-muted\\\">General Information</h6>\\n\\n<div class=\\\"form-row\\\">\\n\\n  <div class=\\\"form-group  col-md-4\\\">\\n    <label for=\\\"label\\\" class=\\\"col-form-label\\\">Label</label>\\n    <input name=\\\"label\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"label\\\" aria-describedby=\\\"label\\\" placeholder=\\\"Label...\\\" [(ngModel)]=\\\"node.data.label\\\" (ngModelChange)=\\\"updateid()\\\">\\n  </div>\\n\\n  <div class=\\\"form-group col-md-4\\\">\\n    <label for=\\\"id\\\" class=\\\"col-form-label\\\">ID</label>\\n    <div class=\\\"input-group\\\">\\n      <input name=\\\"id\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"id\\\" aria-describedby=\\\"id\\\" placeholder=\\\"Enter Valid ID\\\" [(ngModel)]=\\\"node.data.id\\\" >\\n      <span class=\\\"input-group-btn\\\">\\n            <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" (click)=\\\"randomId()\\\"><i class=\\\"fa fa-random\\\"></i></button>\\n            <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" (click)=\\\"fixId()\\\"><i class=\\\"fa fa-check-circle\\\"></i></button>\\n          </span>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"form-group col-md-4\\\">\\n    <label for=\\\"linkVersion\\\" class=\\\"col-form-label\\\">Version</label>\\n    <input name=\\\"edgeVersion\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"linkVersion\\\" placeholder=\\\"Version\\\" [(ngModel)]=\\\"node.data.version\\\">\\n  </div>\\n</div>\\n<div class=\\\"form-row\\\">\\n  <div class=\\\"form-group col-md-4\\\">\\n    <label for=\\\"source\\\" class=\\\"col-form-label\\\">Source</label>\\n    <input name=\\\"edgeSource \\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"source\\\" placeholder=\\\"Source\\\" [(ngModel)]=\\\"source\\\" [ngbTypeahead]=\\\"searchforIds\\\"\\n      [resultTemplate]=\\\"rt\\\" [inputFormatter]=\\\"formatter\\\">\\n  </div>\\n\\n  <div class=\\\"form-group col-md-4\\\">\\n    <label for=\\\"linkType\\\" class=\\\"col-form-label\\\">Type</label>\\n    <select name=\\\"edgeType\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"node.data.type\\\">\\n          <option value=\\\"dependency\\\">Depends On</option>\\n          <option value=\\\"child\\\">Child Of</option>\\n          <option value=\\\"parent\\\">Parent Of</option>\\n    </select>\\n  </div>\\n\\n  <div class=\\\"form-group col-md-4\\\">\\n    <label for=\\\"target\\\" class=\\\"col-form-label\\\">Target</label>\\n    <input name=\\\"edgeTarget \\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"target\\\" placeholder=\\\"Target\\\" [(ngModel)]=\\\"target\\\" [ngbTypeahead]=\\\"searchforIds\\\"\\n      [resultTemplate]=\\\"rt\\\" [inputFormatter]=\\\"formatter\\\">\\n  </div>\\n\\n\\n</div>\\n\\n<div class=\\\"form-group\\\">\\n  <label for=\\\"description\\\">Description</label>\\n  <textarea name=\\\"description\\\" rows=\\\"4\\\" type=\\\"textarea\\\" class=\\\"form-control\\\" id=\\\"description\\\" aria-describedby=\\\"description\\\"\\n    placeholder=\\\"Description...\\\" [(ngModel)]=\\\"node.data.description\\\"></textarea>\\n</div>\\n\\n<!-- <h6 class=\\\"text-muted\\\">Scheduling</h6>\\n\\n<div class=\\\"form-row\\\">\\n  <div class=\\\"form-group col-md-4\\\">\\n    <label class=\\\"col-form-label\\\"> Status </label>\\n    <div class=\\\"form-group\\\">\\n      <label class=\\\"custom-control custom-radio\\\">\\n        <input id=\\\"radio1\\\" name=\\\"radio\\\" type=\\\"radio\\\" class=\\\"custom-control-input\\\"  [(ngModel)]=\\\"node.data.status\\\" value=\\\"complete\\\">\\n        <span class=\\\"custom-control-indicator\\\"></span>\\n        <span class=\\\"custom-control-description\\\">Complete</span>\\n    </label>\\n      <label class=\\\"custom-control custom-radio\\\">\\n        <input id=\\\"radio2\\\" name=\\\"radio\\\" type=\\\"radio\\\" class=\\\"custom-control-input\\\"   [(ngModel)]=\\\"node.data.status\\\" value=\\\"planned\\\">\\n        <span class=\\\"custom-control-indicator\\\"></span>\\n        <span class=\\\"custom-control-description\\\">In Work / Planned</span>\\n      </label>\\n    </div>\\n  </div>\\n  <div class=\\\"form-group col-md-4\\\">\\n    <label for=\\\"name\\\" class=\\\"col-form-label\\\">Start Date</label>\\n    <div class=\\\"input-group\\\">\\n      <input name=\\\"planned_start_date\\\" class=\\\"form-control\\\" placeholder=\\\"yyyy-mm-dd\\\" name=\\\"dp\\\" [(ngModel)]=\\\"node.data.start_date\\\"\\n        ngbDatepicker #d=\\\"ngbDatepicker\\\">\\n      <button class=\\\"input-group-addon\\\" (click)=\\\"d.toggle()\\\" type=\\\"button\\\">\\n         <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"form-group col-md-4\\\">\\n    <label for=\\\"name\\\" class=\\\"col-form-label\\\">Finish Date</label>\\n    <div class=\\\"input-group\\\">\\n      <input name=\\\"planned_finish_date\\\" class=\\\"form-control\\\" placeholder=\\\"yyyy-mm-dd\\\" name=\\\"dp2\\\" [(ngModel)]=\\\"node.data.finish_date\\\"\\n        ngbDatepicker #d2=\\\"ngbDatepicker\\\">\\n      <button class=\\\"input-group-addon\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\n           <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\n        </button>\\n    </div>\\n  </div>\\n</div>  -->\\n\\n<ng-template #rt let-r=\\\"result\\\" let-t=\\\"term\\\">\\n  <span class=\\\"badge badge-secondary\\\">{{r.data.type}}</span> {{ r.data.label}} <span class=\\\"text-muted\\\">id: {{r.data.label}}</span>\\n</ng-template>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { NgbDateStruct, NgbDateParserFormatter } from '@ng-bootstrap/ng-bootstrap'\nimport { DataService } from '../data.service';\nimport { GraphItem, Database } from '../models';\nimport { UUID } from 'angular2-uuid';\nimport * as _ from 'lodash'\nimport { Observable } from 'rxjs';\nconst holder = []\n\n@Component({\n  selector: 'app-editor-edge',\n  templateUrl: './editor-edge.component.html',\n  styleUrls: ['./editor-edge.component.css']\n})\nexport class EditorEdgeComponent implements OnInit {\n\n  original: GraphItem\n  node: GraphItem\n  target\n  source\n\n  constructor(private route: ActivatedRoute, private db: DataService) {\n    this.node = new GraphItem()\n    this.node.group = 'edges'\n\n    let id = this.route.snapshot.paramMap.get('id');\n    this.route.paramMap.subscribe((p: ParamMap) => {\n      let id = p.get(\"id\")\n      let node = this.db.findItem(id)\n      if (node) {\n        console.log(\"SETTING NODE \" + node.data.id);\n        this.original = node\n        let newOne = new GraphItem()\n        newOne.group = node.group\n        newOne.data = _.clone(node.data)\n        this.node = newOne\n        this.fillIn()\n      }\n    })\n\n    holder[0] = this.db\n  }\n\n  ngOnInit() {\n  }\n\n\n  public updateid() {\n    if (!this.original) {\n      this.node.data.id = DataService.valid(this.node.data.label.toLowerCase())\n    }\n  }\n\n  public fillIn() {\n    let tgtId = this.node.data.target\n    if (tgtId) {\n      this.target = this.db.getItem(tgtId)\n    }\n\n    let srcId = this.node.data.source\n    if (srcId) {\n      this.source = this.db.getItem(srcId)\n    }\n  }\n\n  public searchforIds(text): Observable<any> {\n    return text\n      .debounceTime(200)\n      .distinctUntilChanged()\n      .map(term => {\n        return term.length < 2 ? []\n          : holder[0].findAll2(term)\n      }\n      );\n  }\n\n\n  public fixId() {\n    this.node.data.id = DataService.valid(this.node.data.id)\n  }\n\n  public randomId() {\n    this.node.data.id = UUID.UUID();\n  }\n\n  public formatter(item): string {\n    return item.data.id\n  }\n\n\n  public save() {\n    if (this.node.data['start_date_obj']) {\n      let dt: NgbDateStruct = this.node.data['start_date_obj']\n      this.node.data.start_date = new Date(dt.day, dt.month, dt.year, 0, 0, 0, 0)\n    }\n\n    if (this.node.data['finish_date_obj']) {\n      let dt: NgbDateStruct = this.node.data['finish_date_obj']\n      this.node.data.start_date = new Date(dt.day, dt.month, dt.year, 0, 0, 0, 0)\n    }\n\n    // Fix the \n    if ((typeof this.target) == 'string') {\n      this.node.data.target = this.target\n    } else {\n      this.node.data.target = this.target.data.id\n    }\n\n    if ((typeof this.source) == 'string') {\n      this.node.data.source = this.source\n    } else {\n      this.node.data.source = this.source.data.id\n    }\n\n    if (this.original) {\n      // EDIT\n      this.original.data = this.node.data\n    } else {\n      // NEW\n      this.db.add(this.node)\n    }\n\n    window.history.back()\n  }\n\n  public cancel() {\n    window.history.back()\n  }\n}\n","module.exports = \".label-block {\\r\\n  display: inline-block\\r\\n}\\r\\n\\r\\n.desc {\\r\\n  height: 4rem;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"container-fluid sticky-top\\\">\\r\\n  <div class=\\\"row justify-content-end\\\">\\r\\n\\r\\n    <button class=\\\"btn btn-info btn-sm mr-1\\\" (click)=\\\"save()\\\" type=\\\"button\\\">\\r\\n                    <i class=\\\"fa fa-floppy-o\\\" aria-hidden=\\\"true\\\"> Save</i>\\r\\n                </button>\\r\\n    <button class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"cancel()\\\" type=\\\"button\\\">\\r\\n                    <i class=\\\"fa fa-ban\\\" aria-hidden=\\\"true\\\"> Cancel</i>\\r\\n                </button>\\r\\n  </div>\\r\\n</div>\\r\\n<form>\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <h6 class=\\\"text-muted\\\">General Information</h6>\\r\\n\\r\\n    <div class=\\\"form-row\\\">\\r\\n\\r\\n      <div class=\\\"form-group  col-md-6\\\">\\r\\n        <label for=\\\"label\\\" class=\\\"col-form-label\\\">Label</label>\\r\\n        <input name=\\\"label\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"label\\\" aria-describedby=\\\"label\\\" placeholder=\\\"Label...\\\" [(ngModel)]=\\\"node.data.label\\\"\\r\\n          (ngModelChange)=\\\"updateid($event)\\\">\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group col-md-6\\\">\\r\\n        <label for=\\\"id\\\" class=\\\"col-form-label\\\">ID</label>\\r\\n        <div class=\\\"input-group\\\">\\r\\n          <input name=\\\"id\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"id\\\" aria-describedby=\\\"id\\\" placeholder=\\\"Enter Valid ID\\\" [(ngModel)]=\\\"node.data.id\\\">\\r\\n          <span class=\\\"input-group-btn\\\">\\r\\n          <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" (click)=\\\"randomId()\\\"><i class=\\\"fa fa-random\\\"></i></button>\\r\\n          <button class=\\\"btn btn-secondary\\\" type=\\\"button\\\" (click)=\\\"fixId()\\\"><i class=\\\"fa fa-check-circle\\\"></i></button>\\r\\n        </span>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-row\\\">\\r\\n      <!-- <div class=\\\"form-group col-md-6\\\">\\r\\n        <label for=\\\"type\\\" class=\\\"col-form-label\\\">Type</label>\\r\\n        <input name=\\\"type\\\" id=\\\"type\\\" type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"node.data.type\\\" [ngbTypeahead]=\\\"search\\\" />\\r\\n      </div> -->\\r\\n\\r\\n      <div class=\\\"form-group col-md-6\\\">\\r\\n        <label for=\\\"type\\\" class=\\\"col-form-label\\\">Type</label>\\r\\n        <select class=\\\"form-control\\\" [(ngModel)]=\\\"node.data.type\\\" name=\\\"type\\\">\\r\\n          <option *ngFor=\\\"let l of nodeTypes\\\" [value]=\\\"l.value\\\">{{l.label}}</option>\\r\\n        </select>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group col-md-6\\\">\\r\\n        <label for=\\\"name\\\" class=\\\"col-form-label\\\">Version</label>\\r\\n        <input name=\\\"version\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"version\\\" aria-describedby=\\\"id\\\" placeholder=\\\"Version\\\" [(ngModel)]=\\\"node.data.version\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"description\\\">Description</label>\\r\\n      <textarea name=\\\"description\\\" rows=\\\"4\\\" type=\\\"textarea\\\" class=\\\"form-control\\\" id=\\\"description\\\" aria-describedby=\\\"description\\\"\\r\\n        placeholder=\\\"Description...\\\" [(ngModel)]=\\\"node.data.description\\\"></textarea>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"hasDate()\\\">\\r\\n      <h6 class=\\\"text-muted\\\">Scheduling</h6>\\r\\n\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"col-md-4\\\">\\r\\n          <label class=\\\"col-form-label\\\"> Status </label>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"custom-control custom-radio\\\">\\r\\n            <input id=\\\"radio1\\\" name=\\\"radio\\\" type=\\\"radio\\\" class=\\\"custom-control-input\\\"  [(ngModel)]=\\\"node.data.status\\\" value=\\\"complete\\\">\\r\\n            <span class=\\\"custom-control-indicator\\\"></span>\\r\\n            <span class=\\\"custom-control-description\\\">Complete</span>\\r\\n        </label>\\r\\n            <label class=\\\"custom-control custom-radio\\\">\\r\\n            <input id=\\\"radio2\\\" name=\\\"radio\\\" type=\\\"radio\\\" class=\\\"custom-control-input\\\"   [(ngModel)]=\\\"node.data.status\\\" value=\\\"planned\\\">\\r\\n            <span class=\\\"custom-control-indicator\\\"></span>\\r\\n            <span class=\\\"custom-control-description\\\">In Work / Planned</span>\\r\\n          </label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-4\\\">\\r\\n          <label for=\\\"name\\\" class=\\\"col-form-label\\\">Start Date</label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <input name=\\\"planned_start_date\\\" class=\\\"form-control\\\" placeholder=\\\"yyyy-mm-dd\\\" name=\\\"dp\\\" [(ngModel)]=\\\"node.data.start_date\\\"\\r\\n              ngbDatepicker #d=\\\"ngbDatepicker\\\">\\r\\n            <button class=\\\"input-group-addon\\\" (click)=\\\"d.toggle()\\\" type=\\\"button\\\">\\r\\n             <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n          </button>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group  col-md-4\\\">\\r\\n          <label for=\\\"name\\\" class=\\\"col-form-label\\\">Finish Date</label>\\r\\n          <div class=\\\"input-group\\\">\\r\\n            <input name=\\\"planned_finish_date\\\" class=\\\"form-control\\\" placeholder=\\\"yyyy-mm-dd\\\" name=\\\"dp2\\\" [(ngModel)]=\\\"node.data.finish_date\\\"\\r\\n              ngbDatepicker #d2=\\\"ngbDatepicker\\\">\\r\\n            <button class=\\\"input-group-addon\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n               <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <h6 class=\\\"text-muted\\\">Links</h6>\\r\\n\\r\\n    <div class=\\\"form-row\\\">\\r\\n      <div class=\\\"form-group col-md-4\\\">\\r\\n        <label for=\\\"linkType\\\" class=\\\"col-form-label\\\">Type</label>\\r\\n        <select name=\\\"edgeType\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"newEdge.data.type\\\">\\r\\n            <option *ngFor=\\\"let l of edgeTypes\\\" [value]=\\\"l.value\\\">{{l.label}}</option>\\r\\n        </select>\\r\\n      </div>\\r\\n      <div class=\\\"form-group col-md-4\\\">\\r\\n        <label for=\\\"target\\\" class=\\\"col-form-label\\\">Target</label>\\r\\n        <input name=\\\"edgeTarget \\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"target\\\" placeholder=\\\"Target\\\" [(ngModel)]=\\\"newEdge.data.target\\\"\\r\\n          [ngbTypeahead]=\\\"searchforIds\\\" [resultTemplate]=\\\"rt\\\" [inputFormatter]=\\\"formatter\\\">\\r\\n\\r\\n      </div>\\r\\n      <div class=\\\"form-group col-md-4\\\">\\r\\n        <label for=\\\"linkVersion\\\" class=\\\"col-form-label\\\">Version</label>\\r\\n        <input name=\\\"edgeVersion\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"linkVersion\\\" placeholder=\\\"Version\\\" [(ngModel)]=\\\"newEdge.data.version\\\">\\r\\n      </div>\\r\\n      <!-- <div class=\\\"form-group col-md-4\\\">\\r\\n        <label class=\\\"col-form-label\\\"> Status </label>\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"custom-control custom-radio\\\">\\r\\n            <input id=\\\"radio1\\\" name=\\\"radio\\\" type=\\\"radio\\\" class=\\\"custom-control-input\\\"  [(ngModel)]=\\\"newEdge.data.status\\\" value=\\\"complete\\\">\\r\\n            <span class=\\\"custom-control-indicator\\\"></span>\\r\\n            <span class=\\\"custom-control-description\\\">Complete</span>\\r\\n        </label>\\r\\n          <label class=\\\"custom-control custom-radio\\\">\\r\\n            <input id=\\\"radio2\\\" name=\\\"radio\\\" type=\\\"radio\\\" class=\\\"custom-control-input\\\"   [(ngModel)]=\\\"newEdge.data.status\\\" value=\\\"planned\\\">\\r\\n            <span class=\\\"custom-control-indicator\\\"></span>\\r\\n            <span class=\\\"custom-control-description\\\">In Work / Planned</span>\\r\\n          </label>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group col-md-4\\\">\\r\\n        <label for=\\\"name\\\" class=\\\"col-form-label\\\">Start Date</label>\\r\\n        <div class=\\\"input-group\\\">\\r\\n          <input name=\\\"planned_start_date\\\" class=\\\"form-control\\\" placeholder=\\\"yyyy-mm-dd\\\" name=\\\"dp3\\\" [(ngModel)]=\\\"newEdge.data.start_date\\\"\\r\\n            ngbDatepicker #d3=\\\"ngbDatepicker\\\">\\r\\n          <button class=\\\"input-group-addon\\\" (click)=\\\"d3.toggle()\\\" type=\\\"button\\\">\\r\\n             <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group col-md-4\\\">\\r\\n        <label for=\\\"name\\\" class=\\\"col-form-label\\\">Finish Date</label>\\r\\n        <div class=\\\"input-group\\\">\\r\\n          <input name=\\\"planned_finish_date\\\" class=\\\"form-control\\\" placeholder=\\\"yyyy-mm-dd\\\" name=\\\"dp4\\\" [(ngModel)]=\\\"newEdge.data.finish_date\\\"\\r\\n            ngbDatepicker #d4=\\\"ngbDatepicker\\\">\\r\\n          <button class=\\\"input-group-addon\\\" (click)=\\\"d4.toggle()\\\" type=\\\"button\\\">\\r\\n               <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            </button>\\r\\n        </div>\\r\\n      </div> -->\\r\\n      <div class=\\\"form-group col-md-1\\\">\\r\\n        <div class=\\\"align-self-end\\\">\\r\\n          <button class=\\\"btn btn-sm btn-secondary align-self-end\\\" (click)=\\\"addEdge()\\\">Add</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\" *ngFor=\\\"let link of links\\\">\\r\\n      <div class=\\\"col-md-3\\\"><button class=\\\"btn btn-sm btn-light\\\" (click)=\\\"delEdge(link)\\\"> <i class=\\\"fa fa-times\\\"></i></button> {{link.data.type}}</div>\\r\\n      <div class=\\\"col-md-3\\\">{{link.data.target}}</div>\\r\\n      <div class=\\\"col-md-3\\\">{{link.data.version}}</div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n  <!-- End Container -->\\r\\n</form>\\r\\n\\r\\n\\r\\n<ng-template #rt let-r=\\\"result\\\" let-t=\\\"term\\\">\\r\\n  <span class=\\\"badge badge-secondary\\\">{{r.data.type}}</span> {{ r.data.label}} <span class=\\\"text-muted\\\">id: {{r.data.label}}</span>\\r\\n</ng-template>\\r\\n\"","import { Component, OnInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute, ParamMap } from \"@angular/router\";\r\nimport {\r\n  NgbDateStruct,\r\n  NgbDateParserFormatter\r\n} from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { GraphItem, Database, NodeType, EdgeType, DbConfig } from \"../models\";\r\nimport { DataService } from \"../data.service\";\r\nimport { Observable } from \"rxjs\";\r\nimport { UUID } from \"angular2-uuid\";\r\nimport * as _ from \"lodash\";\r\n\r\nconst types = [\r\n  \"Algorithm\",\r\n  \"Component\",\r\n  \"Data Type\",\r\n  \"Endpoint\",\r\n  \"Library\",\r\n  \"Process\",\r\n  \"Technology\"\r\n];\r\nconst holder = [];\r\n@Component({\r\n  selector: \"app-editor\",\r\n  templateUrl: \"./editor.component.html\",\r\n  styleUrls: [\"./editor.component.css\"]\r\n})\r\nexport class EditorComponent implements OnInit {\r\n  nodeTypes: NodeType[] = [];\r\n  edgeTypes: EdgeType[] = [];\r\n\r\n  original: GraphItem;\r\n  node = new GraphItem();\r\n  newEdge: any = {\r\n    data: {},\r\n    temp: true\r\n  };\r\n  database: Database;\r\n  newLinks = [];\r\n  deletedLinks = [];\r\n  links = [];\r\n\r\n  constructor(private route: ActivatedRoute, private db: DataService) {\r\n    console.log(\"VERSION \" + _.VERSION);\r\n\r\n    this.nodeTypes = this.db.nodeTypes;\r\n    this.edgeTypes = this.db.edgeTypes;\r\n\r\n    let id = this.route.snapshot.paramMap.get(\"id\");\r\n    this.route.paramMap.subscribe((p: ParamMap) => {\r\n      let id = p.get(\"id\");\r\n      let node = this.db.findItem(id);\r\n      if (node) {\r\n        console.log(\"SETTING NODE \" + node.data.id);\r\n        this.original = node;\r\n        let newOne = new GraphItem();\r\n        newOne.group = node.group;\r\n        newOne.data = _.clone(node.data);\r\n        this.node = newOne;\r\n      }\r\n    });\r\n    this.updateLinks();\r\n    holder[0] = this.db;\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  public updateid(event) {\r\n    if (!this.original) {\r\n      this.node.data.id = DataService.valid(this.node.data.label.toLowerCase());\r\n    }\r\n  }\r\n\r\n  public updateLinks() {\r\n    // Get all the links from the database\r\n    let links = [];\r\n    if (this.original) {\r\n      let orgLinks = this.db.getEdgesFrom(this.original.data.id);\r\n      links.push(...orgLinks);\r\n    }\r\n\r\n    links.push(...this.newLinks);\r\n    this.deletedLinks.forEach(l => {\r\n      _.remove(links, i => i.data.id == l.data.id);\r\n    });\r\n    links.forEach(item => {\r\n      console.log(\r\n        \"ITEM \" +\r\n        item.group +\r\n        \" \" +\r\n        item.data.target +\r\n        JSON.stringify(item.data)\r\n      );\r\n    });\r\n\r\n    this.links = links;\r\n  }\r\n\r\n  public fixId() {\r\n    this.node.data.id = DataService.valid(this.node.data.id);\r\n  }\r\n\r\n  public randomId() {\r\n    this.node.data.id = UUID.UUID();\r\n  }\r\n\r\n  public changeStatus(entry) {\r\n    console.log(\"ChangeStatus\" + entry);\r\n    this.node.data.status = entry;\r\n  }\r\n\r\n  public hasDate() {\r\n    let nt = this.db.nodeType(this.node.data.type);\r\n    if (nt) {\r\n      return nt.hasDate;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public save() {\r\n    if (this.node.data.start_date) {\r\n      let dt: any = this.node.data.start_date;\r\n      this.node.data.start_date = new Date(\r\n        dt.year,\r\n        dt.month - 1,\r\n        dt.day,\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      );\r\n    }\r\n\r\n    if (this.node.data.finish_date) {\r\n      let dt: any = this.node.data.finish_date;\r\n      this.node.data.finish_date = new Date(\r\n        dt.year,\r\n        dt.month - 1,\r\n        dt.day,\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      );\r\n    }\r\n\r\n    if (this.original) {\r\n      // EDIT\r\n      this.original.data = this.node.data;\r\n    } else {\r\n      // NEW\r\n      this.db.add(this.node);\r\n    }\r\n\r\n    // Add each of the new links\r\n    this.newLinks.forEach(link => {\r\n      this.db.addEdge(\r\n        link.data.target,\r\n        this.node.data.id,\r\n        link.data.type,\r\n        link.data.version\r\n      );\r\n    });\r\n\r\n    // Remove the links\r\n    this.deletedLinks.forEach(link => {\r\n      if (!link.temp) {\r\n        this.db.remove(link.data.id);\r\n      }\r\n    });\r\n\r\n    window.history.back();\r\n  }\r\n\r\n  public cancel() {\r\n    window.history.back();\r\n  }\r\n\r\n  public search(text$): Observable<string> {\r\n    return text$\r\n      .debounceTime(200)\r\n      .distinctUntilChanged()\r\n      .map(\r\n        term =>\r\n          term.length < 2\r\n            ? []\r\n            : types.filter(\r\n              v => v.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n            )\r\n      );\r\n  }\r\n\r\n  public searchforIds(text): Observable<any> {\r\n    return text\r\n      .debounceTime(200)\r\n      .distinctUntilChanged()\r\n      .map(term => {\r\n        return term.length < 2 ? [] : holder[0].findAll2(term);\r\n      });\r\n  }\r\n\r\n  public formatter(item): string {\r\n    return item.data.id;\r\n  }\r\n\r\n  public addEdge() {\r\n    let tgt = this.newEdge.data.target;\r\n    if (tgt.data && tgt.data.id) {\r\n      this.newEdge.data.target = tgt.data.id;\r\n    }\r\n    this.newLinks.push(this.newEdge);\r\n    this.newEdge = {\r\n      data: {},\r\n      temp: true\r\n    };\r\n    this.updateLinks();\r\n  }\r\n\r\n  public delEdge(item) {\r\n    _.remove(this.newLinks, i => {\r\n      return item.data.target == i.data.target;\r\n    });\r\n    this.deletedLinks.push(item);\r\n    this.updateLinks();\r\n  }\r\n}\r\n\r\nexport class MyNgbDateParserFormatter extends NgbDateParserFormatter {\r\n  parse(value: string): NgbDateStruct {\r\n    if (value) {\r\n      const dateParts = value.trim().split(\"-\");\r\n      if (dateParts.length === 1 && isNumber(dateParts[0])) {\r\n        return { year: toInteger(dateParts[0]), month: null, day: null };\r\n      } else if (\r\n        dateParts.length === 2 &&\r\n        isNumber(dateParts[0]) &&\r\n        isNumber(dateParts[1])\r\n      ) {\r\n        return {\r\n          year: toInteger(dateParts[0]),\r\n          month: toInteger(dateParts[1]),\r\n          day: null\r\n        };\r\n      } else if (\r\n        dateParts.length === 3 &&\r\n        isNumber(dateParts[0]) &&\r\n        isNumber(dateParts[1]) &&\r\n        isNumber(dateParts[2])\r\n      ) {\r\n        return {\r\n          year: toInteger(dateParts[0]),\r\n          month: toInteger(dateParts[1]),\r\n          day: toInteger(dateParts[2])\r\n        };\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  format(date: NgbDateStruct): string {\r\n    return date\r\n      ? `${isNumber(date.month) ? padNumber(date.month) : \"\"}-${isNumber(\r\n        date.day\r\n      )\r\n        ? padNumber(date.day)\r\n        : \"\"}-${date.year}`\r\n      : \"\";\r\n  }\r\n}\r\n\r\nexport function isNumber(value: any): value is number {\r\n  return !isNaN(toInteger(value));\r\n}\r\n\r\nexport function padNumber(value: number) {\r\n  if (isNumber(value)) {\r\n    return `0${value}`.slice(-2);\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport function toInteger(value: any): number {\r\n  return parseInt(`${value}`, 10);\r\n}\r\n","module.exports = \".gantt_container {\\r\\n  width: 100%;\\r\\n  height: 700px;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.bordered {\\r\\n  border: 3px solid #000000;\\r\\n}\\r\\n\"","module.exports = \"<h4>Gannt Chart</h4>\\n\\n<div class=\\\"sticky-top\\\">\\n\\n  <div class=\\\"btn-group btn-group-sm mb-1 mr-auto\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\" *ngIf=\\\"u.large\\\">\\n    <button class=\\\"btn btn-info btn-sm\\\" *ngFor=\\\"let t of types\\\" (click)=\\\"toggleFilter(t.value)\\\" [ngClass]=\\\"{'active': isFiltered(t.value)}\\\">{{t.label}}</button>\\n  </div>\\n\\n  <div ngbDropdown class=\\\"d-inline-block\\\" *ngIf=\\\"!u.large\\\">\\n    <button class=\\\"btn btn-sm btn-info mb-1\\\" id=\\\"dropdownBasic1\\\" ngbDropdownToggle><i class=\\\"fa fa-filter\\\"></i> Types</button>\\n    <div ngbDropdownMenu aria-labelledby=\\\"dropdownBasic1\\\">\\n      <button class=\\\"dropdown-item gutter\\\" *ngFor=\\\"let t of types\\\" (click)=\\\"toggleFilter(t)\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"isFiltered(t)\\\"></i>{{t}}</button>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"zoomToFit()\\\"><i class=\\\"fa fa-arrows-alt\\\" aria-hidden=\\\"true\\\"></i></button>\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"stepPrev()\\\"><i class=\\\"fa fa-step-backward\\\" aria-hidden=\\\"true\\\"></i></button>\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"stepNext()\\\"><i class=\\\"fa fa-step-forward\\\" aria-hidden=\\\"true\\\"></i></button>\\n  </div>\\n\\n  <div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\n    <button [disabled]=\\\"!u.selected\\\" class=\\\"btn btn-secondary btn-sm \\\" (click)=\\\"u.edit()\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i> Edit </button>\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"u.newItem()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Item</button>\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"u.newEdge()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Link</button>\\n  </div>\\n\\n</div>\\n<div class=\\\"row\\\">\\n  <div [ngClass]=\\\"{'col-lg-9 pr-0': u.selected, 'col-lg-12':!u.selected}\\\">\\n    <div id=\\\"gantt_here\\\" class='gantt_container' #drawingArea></div>\\n  </div>\\n  <div class=\\\"\\\" *ngIf=\\\"u.large && u.selected\\\" [ngClass]=\\\"{'col-lg-3': u.selected}\\\">\\n    <div class=\\\"sticky-top\\\">\\n      <app-view [item]=\\\"u.selected\\\"></app-view>\\n    </div>\\n  </div>\\n</div>\\n\"","import { AfterViewInit, Component, HostListener, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LocalStorageService } from 'angular-2-local-storage';\nimport * as dt from 'date-fns';\nimport * as _ from 'lodash';\n\nimport { DataService } from '../data.service';\nimport { DateType, GraphItem } from '../models';\nimport { Utils } from '../utils';\n\n@Component({\n  selector: \"app-gantt\",\n  templateUrl: \"./gantt.component.html\",\n  styleUrls: [\"./gantt.component.css\"]\n})\nexport class GanttComponent implements OnInit, AfterViewInit {\n  u: Utils;\n  LOCAL_STORAGE_KEY = \"GanttComponent.PREFS\";\n\n  @ViewChild(\"drawingArea\") drawingArea;\n  types = [];\n  prefs = new Prefs();\n\n  dataset: Dataset;\n\n  constructor(\n    private data: DataService,\n    private router: Router,\n    private localStorage: LocalStorageService\n  ) {\n    this.u = new Utils(\n      localStorage,\n      router,\n      data,\n      this.LOCAL_STORAGE_KEY,\n      new Prefs(),\n      this.update\n    );\n    this.dataset = new Dataset(this.data);\n    this.types = this.data.nodeTypes;\n  }\n\n  @HostListener(\"window:resize\", [\"$event\"])\n  onResize(event) {\n    // let windowH = event.target.innerHeight\n    // var rect = this.drawingArea.nativeElement.getBoundingClientRect();\n    // this.drawingArea.nativeElement.style.height = (windowH - rect.top - 10) + \"px\"\n    this.resize();\n  }\n\n  ngOnInit() { }\n\n  private getPath(eles: any, s: Scheme): any {\n    var dfs = this.data.cy.elements().dfs({\n      // The element to start from\n      roots: eles,\n      // Function figure out if we are taking the right path\n      visit: function (v, e, u, i, depth) {\n        console.log(\"visit \" + v.id());\n\n        // The desired node type is\n        let backLevels = s.levels.slice().reverse();\n        let lookingForType = backLevels[depth];\n\n        if (v.data(\"type\") != lookingForType) {\n          // DoOwn the wrong path\n          return false;\n        }\n\n        if (depth == backLevels.length - 1) {\n          return true;\n        }\n      },\n      directed: false\n    });\n    return dfs;\n  }\n\n  private getSchemes(type: string): Scheme[] {\n    let result = [];\n    this.Schemes.forEach(scheme => {\n      if (_.includes(scheme.levels, type)) {\n        result.push(scheme);\n      }\n    });\n    return result;\n  }\n\n  private resize() {\n    // Resize the main window\n    var rect = this.drawingArea.nativeElement.getBoundingClientRect();\n    let windowH = window.innerHeight;\n    let newH = windowH - rect.top - 10;\n    if (newH == this.drawingArea.nativeElement.style.height) {\n      // nochange\n      return false;\n    } else {\n      this.drawingArea.nativeElement.style.height =\n        windowH - rect.top - 10 + \"px\";\n      gantt.render();\n      return true;\n    }\n  }\n\n  ngAfterViewInit() {\n    gantt.config.drag_resize = false;\n    gantt.config.drag_move = false;\n    gantt.config.drag_links = false;\n    gantt.config.readonly = true;\n    gantt.config.show_unscheduled = true;\n    gantt.config.static_background = true;\n    gantt.config.columns = [\n      { name: \"text\", tree: true, width: \"*\", resize: true },\n      { name: \"start_date\", align: \"left\" }\n    ];\n\n    gantt.attachEvent(\"onTaskClick\", (id, e) => {\n      //any custom logic here\n      let item = this.data.getItem(id);\n      if (this.u.selected && this.u.selected == item) {\n        this.u.selected = undefined;\n      } else {\n        this.u.selected = item;\n      }\n      // gantt.render();\n      setTimeout(() => gantt.render(), 50);\n      return true;\n    });\n\n    gantt.init(\"gantt_here\");\n\n    this.update();\n    this.resize();\n  }\n\n  public update2() {\n    gantt.clearAll();\n\n    // Create all the tasks, etc\n    this.data.cy.nodes().forEach(i => {\n      let n: GraphItem = i._private;\n      let nodeType = this.data.nodeType(n.data.type);\n      let dateType = nodeType.dateType;\n\n      if (dateType == DateType.DateRange) {\n        this.addTask(i);\n      } else if (dateType == DateType.Marker) {\n        this.dataset.fromType(n);\n      }\n    });\n\n    // Update the chart\n    let dataToParse = {\n      data: this.dataset.tasks,\n      links: this.dataset.links\n    };\n\n    gantt.parse(dataToParse);\n    // Add the markers\n    this.dataset.markerDefs.forEach(v => {\n      gantt.addMarker(v);\n    });\n\n    gantt.render();\n  }\n\n  public update() {\n    gantt.clearAll();\n\n    // Create components\n    this.data.cy.nodes().forEach(i => {\n      let n: GraphItem = i._private;\n      let nodeType = this.data.nodeType(n.data.type);\n      let dateType = nodeType.dateType;\n\n      if (nodeType.value == \"Sprint\") {\n        this.dataset.fromType(n);\n      } else if (dateType == DateType.Marker) {\n        this.dataset.fromType(n);\n      }\n    });\n\n    // Update the chart\n    let dataToParse = {\n      data: this.dataset.tasks,\n      links: this.dataset.links\n    };\n\n    gantt.parse(dataToParse);\n\n    // Add the markers\n    this.dataset.markerDefs.forEach(v => {\n      gantt.addMarker(v);\n    });\n\n    gantt.render();\n  }\n\n  private getSprintsForComponent(componentId) { }\n\n  private addTask(eles: any) {\n    let n: GraphItem = eles._private;\n\n    // Get the schemes for this node\n    let schemes = this.getSchemes(n.data.type);\n    if (!schemes || schemes.length == 0) {\n      return;\n    }\n\n    // Determine if the scheme is selected\n\n    schemes.forEach(scheme => {\n      // Determine the path of that node\n      let path = this.getPath(eles, scheme);\n      // ({ path: eles, found: node }),\n      if (path.found) {\n        // Note - The path contains the edges and the nodes\n        let lastId = undefined;\n        let p = path.path;\n        for (let i = p.length - 1; i >= 0; i -= 2) {\n          let pathNode = p[i];\n          // get the task by the id to see if it exists\n          let id = pathNode.data(\"id\");\n          let n = pathNode._private;\n          this.dataset.fromType(n, lastId);\n          lastId = id;\n        }\n      }\n    });\n  }\n\n  public stepNext() {\n    var project = gantt.getSubtaskDates();\n    console.log(JSON.stringify(project));\n\n    let newIndex = this.prefs.scaleIndex + 1;\n    if (newIndex >= this.scaleConfigs.length) {\n      newIndex = 0;\n    }\n\n    this.applyConfig(this.scaleConfigs[newIndex], project);\n    this.prefs.scaleIndex = newIndex;\n    gantt.render();\n  }\n\n  public stepPrev() {\n    var project = gantt.getSubtaskDates();\n    console.log(JSON.stringify(project));\n\n    let newIndex = this.prefs.scaleIndex - 1;\n    if (newIndex < 0) {\n      newIndex = this.scaleConfigs.length - 1;\n    }\n\n    this.applyConfig(this.scaleConfigs[newIndex], project);\n    this.prefs.scaleIndex = newIndex;\n    gantt.render();\n  }\n\n  public zoomToFit() {\n    var project = gantt.getSubtaskDates(),\n      areaWidth = gantt.$task.offsetWidth;\n\n    for (var i = 0; i < this.scaleConfigs.length; i++) {\n      var columnCount = this.getUnitsBetween(\n        project.start_date,\n        project.end_date,\n        this.scaleConfigs[i].unit,\n        this.scaleConfigs[i].step\n      );\n      if ((columnCount + 2) * gantt.config.min_column_width <= areaWidth) {\n        break;\n      }\n    }\n\n    if (i == this.scaleConfigs.length) {\n      i--;\n    }\n\n    this.applyConfig(this.scaleConfigs[i], project);\n    this.prefs.scaleIndex = i;\n    gantt.render();\n  }\n  // get number of columns in timeline\n  getUnitsBetween(from, to, unit, step) {\n    var start = new Date(from),\n      end = new Date(to);\n    var units = 0;\n    while (start.valueOf() < end.valueOf()) {\n      units++;\n      start = gantt.date.add(start, step, unit);\n    }\n    return units;\n  }\n\n  applyConfig(config, dates) {\n    gantt.config.scale_unit = config.scale_unit;\n    if (config.date_scale) {\n      gantt.config.date_scale = config.date_scale;\n      gantt.templates.date_scale = null;\n    } else {\n      gantt.templates.date_scale = config.template;\n    }\n\n    gantt.config.step = config.step;\n    gantt.config.subscales = config.subscales;\n\n    if (dates) {\n      gantt.config.start_date = gantt.date.add(\n        dates.start_date,\n        -1,\n        config.unit\n      );\n      gantt.config.end_date = gantt.date.add(\n        gantt.date[config.unit + \"_start\"](dates.end_date),\n        2,\n        config.unit\n      );\n    } else {\n      gantt.config.start_date = gantt.config.end_date = null;\n    }\n  }\n\n  weekScaleTemplate = function (date) {\n    var dateToStr = gantt.date.date_to_str(\"%d %M\");\n    var endDate = gantt.date.add(gantt.date.add(date, 1, \"week\"), -1, \"day\");\n    return dateToStr(date) + \" - \" + dateToStr(endDate);\n  };\n\n  //Setting available scales\n  scaleConfigs = [\n    // days\n    {\n      unit: \"day\",\n      step: 1,\n      scale_unit: \"month\",\n      date_scale: \"%F\",\n      subscales: [{ unit: \"day\", step: 1, date: \"%j\" }]\n    },\n    // weeks\n    {\n      unit: \"week\",\n      step: 1,\n      scale_unit: \"month\",\n      date_scale: \"%F\",\n      subscales: [\n        {\n          unit: \"week\",\n          step: 1,\n          template: function (date) {\n            var dateToStr = gantt.date.date_to_str(\"%d %M\");\n            var endDate = gantt.date.add(\n              gantt.date.add(date, 1, \"week\"),\n              -1,\n              \"day\"\n            );\n            return dateToStr(date) + \" - \" + dateToStr(endDate);\n          }\n        }\n      ]\n    },\n    // months\n    {\n      unit: \"month\",\n      step: 1,\n      scale_unit: \"year\",\n      date_scale: \"%Y\",\n      subscales: [{ unit: \"month\", step: 1, date: \"%M\" }]\n    },\n    // quarters\n    {\n      unit: \"month\",\n      step: 3,\n      scale_unit: \"year\",\n      date_scale: \"%Y\",\n      subscales: [\n        {\n          unit: \"month\",\n          step: 3,\n          template: function (date) {\n            var dateToStr = gantt.date.date_to_str(\"%M\");\n            var endDate = gantt.date.add(\n              gantt.date.add(date, 3, \"month\"),\n              -1,\n              \"day\"\n            );\n            return dateToStr(date) + \" - \" + dateToStr(endDate);\n          }\n        }\n      ]\n    },\n    // years\n    {\n      unit: \"year\",\n      step: 1,\n      scale_unit: \"year\",\n      date_scale: \"%Y\",\n      subscales: [\n        {\n          unit: \"year\",\n          step: 5,\n          template: function (date) {\n            var dateToStr = gantt.date.date_to_str(\"%Y\");\n            var endDate = gantt.date.add(\n              gantt.date.add(date, 5, \"year\"),\n              -1,\n              \"day\"\n            );\n            return dateToStr(date) + \" - \" + dateToStr(endDate);\n          }\n        }\n      ]\n    },\n    // decades\n    {\n      unit: \"year\",\n      step: 5,\n      scale_unit: \"year\",\n      template: function (date) {\n        var dateToStr = gantt.date.date_to_str(\"%Y\");\n        var endDate = gantt.date.add(\n          gantt.date.add(date, 5, \"year\"),\n          -1,\n          \"day\"\n        );\n        return dateToStr(date) + \" - \" + dateToStr(endDate);\n      },\n      subscales: [\n        {\n          unit: \"year\",\n          step: 50,\n          template: function (date) {\n            var dateToStr = gantt.date.date_to_str(\"%Y\");\n            var endDate = gantt.date.add(\n              gantt.date.add(date, 50, \"year\"),\n              -1,\n              \"day\"\n            );\n            return dateToStr(date) + \" - \" + dateToStr(endDate);\n          }\n        }\n      ]\n    }\n  ];\n\n  public isFiltered(l: string): boolean {\n    return _.includes(this.prefs.filtered, l);\n  }\n\n  public toggleFilter(t) {\n    // Toggle the filter\n    let len = this.prefs.filtered.length;\n    let success = _.pull(this.prefs.filtered, t);\n    if (success.length == len) {\n      this.prefs.filtered.push(t);\n    }\n    this.savePrefs();\n    this.update();\n  }\n\n  public savePrefs() {\n    let str = JSON.stringify(this.prefs);\n    this.localStorage.set(this.LOCAL_STORAGE_KEY, str);\n  }\n\n  public resetPreferences() {\n    this.prefs = new Prefs();\n    this.savePrefs();\n    this.update();\n  }\n\n  public Schemes: Scheme[] = [\n    {\n      name: \"Components\",\n      id_prefix: \"com\",\n      levels: [\"component\", \"Sprint\"]\n    },\n    {\n      name: \"Requirements\",\n      id_prefix: \"req\",\n      levels: [\"requirement\", \"feature\", \"Sprint\"]\n    },\n    {\n      name: \"Environments\",\n      id_prefix: \"ins\",\n      levels: [\"environment\", \"install\"]\n    }\n  ];\n}\n\nclass Prefs {\n  filtered: string[] = [\"\"];\n  scaleIndex = -1;\n}\n\nclass Scheme {\n  name: string;\n  id_prefix: string;\n  levels: string[];\n}\n\nclass Dataset {\n  public taskDefs = new Map<string, any>();\n  public linkDefs = new Map<string, any>();\n  public markerDefs = new Map<string, any>();\n\n  public get tasks(): any[] {\n    let all = [];\n    this.taskDefs.forEach(v => all.push(v));\n    return all;\n  }\n\n  public get links(): any[] {\n    let all = [];\n    this.linkDefs.forEach(v => all.push(v));\n    return all;\n  }\n\n  constructor(private data: DataService) { }\n\n  project(id, text, parent?) {\n    if (!this.taskDefs.has(id)) {\n      let t: any = {\n        id: id,\n        text: text,\n        type: \"project\",\n        open: true\n      };\n      if (parent) {\n        t.parent = parent;\n      }\n      this.taskDefs.set(id, t);\n    }\n  }\n\n  task(id, text, start_date, end_date, parent?) {\n    if (!this.taskDefs.has(id)) {\n      let t: any = {\n        id: id,\n        text: text,\n        start_date: dt.format(start_date, \"DD-MM-YYYY\"),\n        end_date: dt.format(end_date, \"DD-MM-YYYY\"),\n        type: \"task\"\n      };\n      if (parent) {\n        t.parent = parent;\n      }\n      this.taskDefs.set(id, t);\n    }\n  }\n\n  milestone(id, text, date, parent?) {\n    if (!this.taskDefs.has(id)) {\n      let t: any = {\n        id: id,\n        text: text,\n        start_date: date,\n        duration: 1 / 24,\n        type: \"task\"\n      };\n      if (parent) {\n        t.parent = parent;\n      }\n      this.taskDefs.set(id, t);\n    }\n  }\n\n  marker(id, text, date) {\n    if (!this.markerDefs.has(id)) {\n      let t: any = {\n        id: id,\n        start_date: date, //a Date object that sets the marker's date\n        css: \"today\", //a CSS class applied to the marker\n        text: text, //the marker title\n        title: text // the marker's tooltip\n      };\n      this.markerDefs.set(id, t);\n    }\n  }\n\n  link(id, source, target, type = \"FS\") {\n    if (!this.linkDefs.has(id)) {\n      let typeNum = 0;\n      switch (type) {\n        case \"FS\":\n          typeNum = 0;\n          break;\n        case \"SS\":\n          typeNum = 1;\n          break;\n        case \"FF\":\n          typeNum = 2;\n          break;\n        case \"SF\":\n          typeNum = 3;\n          break;\n      }\n\n      let t: any = {\n        id: id,\n        source: source,\n        target: target,\n        type: typeNum\n      };\n      this.linkDefs.set(id, t);\n    }\n  }\n\n  fromType(n: GraphItem, parent?) {\n    let nodeType = this.data.nodeType(n.data.type);\n    let dateType = nodeType.dateType;\n\n    let dtStart: Date = n.data.start_date;\n    if (dtStart && typeof dtStart === \"string\") {\n      dtStart = new Date(Date.parse(dtStart));\n    }\n\n    let dtEnd: Date = n.data.finish_date;\n    if (dtEnd && typeof dtEnd === \"string\") {\n      dtEnd = new Date(Date.parse(dtEnd));\n    }\n\n    let dtOne = dtStart ? dtStart : dtEnd;\n\n    switch (dateType) {\n      case DateType.DateRange:\n        if (\n          !dtStart ||\n          !dtEnd ||\n          isNaN(dtStart.getDay()) ||\n          isNaN(dtEnd.getDay())\n        ) {\n          console.log(\n            \"STOP \" +\n            n.data.id +\n            \" \" +\n            n.data.type +\n            \" \" +\n            n.data.start_date +\n            \" to \" +\n            n.data.finish_date\n          );\n        } else {\n          this.task(n.data.id, n.data.label, dtStart, dtEnd, parent);\n        }\n        break;\n      case DateType.None:\n        this.project(n.data.id, n.data.label, parent);\n        break;\n      case DateType.Milestone:\n        this.milestone(n.data.id, n.data.label, dtOne, parent);\n        break;\n      case DateType.Marker:\n        this.marker(n.data.id, n.data.label, dtOne);\n        break;\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DataService } from './data.service'\n\n@Pipe({\n  name: 'label'\n})\nexport class LabelPipe implements PipeTransform {\n\n  constructor(private data: DataService) {\n\n  }\n\n  transform(value: any, args?: any): any {\n    if (value) {\n      let item = this.data.getItem(value)\n      if (item) {\n        return item.data.label\n      }\n    }\n    return null;\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<nav class=\\\"navbar navbar-expand-lg navbar-light bg-light\\\">\\r\\n  <a class=\\\"navbar-brand\\\" href=\\\"#\\\">Dependency Tracker</a>\\r\\n  <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarNav\\\" aria-controls=\\\"navbarNav\\\" aria-expanded=\\\"false\\\"\\r\\n    aria-label=\\\"Toggle navigation\\\" (click)=\\\"isCollapsed = !isCollapsed\\\">\\r\\n    <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n  </button>\\r\\n  <div class=\\\"collapse navbar-collapse mr-auto\\\" id=\\\"navbarNav\\\" [ngbCollapse]=\\\"isCollapsed\\\">\\r\\n    <ul class=\\\"navbar-nav mr-auto\\\">\\r\\n      <li class=\\\"nav-item active\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/home\\\"><i class=\\\"fa fa-list\\\" aria-hidden=\\\"true\\\"></i> List </a>\\r\\n      </li>\\r\\n      <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/matrix\\\"><i class=\\\"fa fa-th\\\" aria-hidden=\\\"true\\\"></i> Matrix </a>\\r\\n      </li>\\r\\n      <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/graph\\\"><i class=\\\"fa fa-share-alt\\\" aria-hidden=\\\"true\\\"></i> Network </a>\\r\\n      </li>\\r\\n      <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/report\\\"><i class=\\\"fa fa-file\\\" aria-hidden=\\\"true\\\"></i> Report </a>\\r\\n      </li>\\r\\n      <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/calendar\\\"><i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i> Calendar </a>\\r\\n      </li>\\r\\n      <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/timeline\\\"><i class=\\\"fa fa-clock-o\\\" aria-hidden=\\\"true\\\"></i> Timeline </a>\\r\\n      </li>\\r\\n      <li class=\\\"nav-item\\\">\\r\\n        <a class=\\\"nav-link\\\" routerLink=\\\"/gantt\\\"><i class=\\\"fa fa-bar-chart fa-rotate-90\\\" aria-hidden=\\\"true\\\"></i> Gantt </a>\\r\\n      </li>\\r\\n    </ul>\\r\\n    <ul class=\\\"navbar-nav\\\">\\r\\n      <li class=\\\"nav-item\\\">\\r\\n        <a *ngIf=\\\"!large\\\" class=\\\"nav-link\\\" routerLink=\\\"/database\\\"><i class=\\\"fa fa-database\\\" aria-hidden=\\\"true\\\"></i> Data Manager</a>\\r\\n        <a *ngIf=\\\"large\\\" class=\\\"nav-link\\\" routerLink=\\\"/database\\\"><i class=\\\"fa fa-database\\\" aria-hidden=\\\"true\\\"></i></a>\\r\\n      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n</nav>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.css']\r\n})\r\nexport class MenuComponent implements OnInit {\r\n\r\n  isCollapsed: boolean = false\r\n  large = true\r\n  constructor() {\r\n    let mq = window.matchMedia(\"(min-width: 992px)\");\r\n    this.large = mq.matches\r\n    mq.addListener(newMatch => {\r\n      console.log(\"Media Query \" + newMatch.matches + \" IS LARGE\");\r\n      this.large = newMatch.matches\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","export class Database {\r\n  public source: string = \"None\";\r\n  public graph: GraphItem[] = new Array();\r\n  public structure = new DbConfig();\r\n}\r\n\r\nexport class GraphItem {\r\n  group: string = \"nodes\";\r\n  selected: false; // whether the element is selected (default false)\r\n  selectable: true; // whether the selection state is mutable (default true)\r\n  locked: false; // when locked a node's position is immutable (default false)\r\n  grabbable: true; // whether the node can be grabbed and moved by the user\r\n  classes: string = \"\"; // a space separated list of class names that the element has\r\n  data: Data = new Data();\r\n}\r\n\r\nexport class Data {\r\n  id: string; // mandatory (string or number) id for each element, assigned automatically on undefined\r\n  label: string; //optional description\r\n  parent: string; // indicates the compound node parent id; not defined => no parent\r\n  source: string; // the source node id (edge comes from this node)\r\n  target: string; // the target node id (edge goes to this node)\r\n  from: string;\r\n  to: string;\r\n  type: string;\r\n  degree: number;\r\n  version: string;\r\n  component: string;\r\n  extra: any;\r\n  status = \"Complete\";\r\n  start_date: Date;\r\n  finish_date: Date;\r\n  description: string;\r\n}\r\n\r\nexport class DbConfig {\r\n  nodeTypes: NodeType[] = [\r\n    {\r\n      label: \"Component\",\r\n      value: \"component\",\r\n      hasDate: false,\r\n      dateType: DateType.None\r\n    },\r\n    {\r\n      label: \"Process\",\r\n      value: \"process\",\r\n      hasDate: false,\r\n      dateType: DateType.None\r\n    },\r\n    {\r\n      label: \"Requirement\",\r\n      value: \"requirement\",\r\n      hasDate: false,\r\n      dateType: DateType.None\r\n    },\r\n    {\r\n      label: \"Capability\",\r\n      value: \"capability\",\r\n      hasDate: false,\r\n      dateType: DateType.None\r\n    },\r\n    {\r\n      label: \"Feature\",\r\n      value: \"feature\",\r\n      hasDate: false,\r\n      dateType: DateType.None\r\n    },\r\n    {\r\n      label: \"Thread\",\r\n      value: \"thread\",\r\n      hasDate: true,\r\n      dateType: DateType.Marker\r\n    },\r\n    {\r\n      label: \"Technology\",\r\n      value: \"technology\",\r\n      hasDate: false,\r\n      dateType: DateType.None\r\n    },\r\n    {\r\n      label: \"Library\",\r\n      value: \"library\",\r\n      hasDate: false,\r\n      dateType: DateType.None\r\n    },\r\n    {\r\n      label: \"Environment\",\r\n      value: \"environment\",\r\n      hasDate: false,\r\n      dateType: DateType.None\r\n    },\r\n    {\r\n      label: \"Data Type\",\r\n      value: \"datatype\",\r\n      hasDate: false,\r\n      dateType: DateType.None\r\n    },\r\n    {\r\n      label: \"Release\",\r\n      value: \"release\",\r\n      hasDate: true,\r\n      dateType: DateType.DateRange\r\n    },\r\n    {\r\n      label: \"Sprint\",\r\n      value: \"Sprint\",\r\n      hasDate: true,\r\n      dateType: DateType.DateRange\r\n    },\r\n    {\r\n      label: \"Event\",\r\n      value: \"event\",\r\n      hasDate: true,\r\n      dateType: DateType.Marker\r\n    }\r\n  ];\r\n\r\n  edgeTypes: EdgeType[] = [\r\n    {\r\n      label: \"Parent\",\r\n      value: \"parent\"\r\n    },\r\n    {\r\n      label: \"Depends On\",\r\n      value: \"depends\"\r\n    },\r\n    {\r\n      label: \"Association\",\r\n      value: \"association\"\r\n    },\r\n    {\r\n      label: \"Implements\",\r\n      value: \"implements\"\r\n    },\r\n    {\r\n      label: \"Satisfies\",\r\n      value: \"satisfies\"\r\n    },\r\n    {\r\n      label: \"Reads\",\r\n      value: \"reads\"\r\n    },\r\n    {\r\n      label: \"Writes\",\r\n      value: \"writes\"\r\n    },\r\n    {\r\n      label: \"Consumes\",\r\n      value: \"consumes\"\r\n    },\r\n    {\r\n      label: \"Handles\",\r\n      value: \"handles\"\r\n    },\r\n    {\r\n      label: \"Writes\",\r\n      value: \"writes\"\r\n    }\r\n  ];\r\n\r\n  validRelations: ValidRelation[] = [\r\n    {\r\n      sourceType: \"process\",\r\n      targetType: \"component\",\r\n      edgeType: \"parent\"\r\n    }\r\n  ];\r\n}\r\n\r\nexport class ProcessExtra {\r\n  public component_name: string;\r\n  public executor_name: string;\r\n  public version: string;\r\n  public docker_base: string;\r\n\r\n  public cpu: number;\r\n  public ram: number;\r\n  public disk: number;\r\n  public gpu: number;\r\n  public instances: number;\r\n  public dfs_storage: number;\r\n  public archive_storage: number;\r\n}\r\n\r\nexport enum DateType {\r\n  None,\r\n  DateRange,\r\n  Milestone,\r\n  Marker\r\n}\r\n\r\nexport class NodeType {\r\n  value: string;\r\n  label: string;\r\n  hasDate?: boolean = false;\r\n  dateType?: DateType = DateType.None;\r\n}\r\n\r\nexport class EdgeType {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\nexport class ValidRelation {\r\n  sourceType: string;\r\n  targetType: string;\r\n  edgeType: string;\r\n}\r\n","import { DataService } from \"./data.service\";\nimport { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"nodetypelabel\"\n})\nexport class NodetypelabelPipe implements PipeTransform {\n  constructor(private data: DataService) {}\n\n  transform(value: any, args?: any): any {\n    let t = this.data.nodeType(value);\n    if (t) {\n      return t.label;\n    }\n    return null;\n  }\n}\n","module.exports = \"chevron_button {\\r\\n  border: 0 solid white;\\r\\n}\\r\\n\\r\\n.page {\\r\\n  min-height: 600px;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.cell {\\r\\n  padding: .1rem !important;\\r\\n}\\r\\n\\r\\n.selectable {\\r\\n  cursor: pointer;\\r\\n  padding: 5px 10px 10px 5px;\\r\\n}\\r\\n\\r\\n.selectable:nth-of-type(odd) {\\r\\n  background-color: rgba(0, 0, 0, .05);\\r\\n}\\r\\n\\r\\n.selectable:hover {\\r\\n  background-color: #BABABA;\\r\\n}\\r\\n\\r\\n.selected {\\r\\n  background-color: #BABABA !important;\\r\\n}\\r\\n\\r\\n.list {\\r\\n  outline: 0px solid transparent;\\r\\n}\\r\\n\\r\\n.list:focus {\\r\\n  outline: 0px solid transparent;\\r\\n}\\r\\n\"","module.exports = \"<h4> List </h4>\\r\\n<div class=\\\"sticky-top\\\">\\r\\n  <div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\" *ngIf=\\\"large\\\">\\r\\n    <button class=\\\"btn btn-info btn-sm\\\" (click)=\\\"toggleFilter('ALL')\\\" [ngClass]=\\\"{'active': isFiltered('ALL')}\\\">ALL</button>\\r\\n    <button class=\\\"btn btn-info btn-sm\\\" *ngFor=\\\"let t of types\\\" (click)=\\\"toggleFilter(t.value)\\\" [ngClass]=\\\"{'active': isFiltered(t.value)}\\\">{{t.label}}</button>\\r\\n  </div>\\r\\n\\r\\n  <div ngbDropdown class=\\\"d-inline-block\\\" *ngIf=\\\"!large\\\">\\r\\n    <button class=\\\"btn btn-sm btn-info mb-1\\\" id=\\\"dropdownBasic1\\\" ngbDropdownToggle>{{prefs.typeSelected}}</button>\\r\\n    <div ngbDropdownMenu aria-labelledby=\\\"dropdownBasic1\\\">\\r\\n      <button class=\\\"dropdown-item gutter\\\" (click)=\\\"toggleFilter('ALL')\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"isFiltered('ALL')\\\"></i>ALL</button>\\r\\n      <button class=\\\"dropdown-item gutter\\\" *ngFor=\\\"let t of types\\\" (click)=\\\"toggleFilter(t.value)\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"isFiltered(t.value)\\\"></i>{{t.label}}</button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\" *ngIf=\\\"large\\\">\\r\\n    <button class=\\\"btn btn-info btn-sm\\\" (click)=\\\"display = 'table'\\\" [ngClass]=\\\"{'active': display == 'table'}\\\"><i class=\\\"fa fa-table\\\"></i></button>\\r\\n    <button class=\\\"btn btn-info btn-sm\\\" (click)=\\\"display = 'list'\\\" [ngClass]=\\\"{'active': display == 'list'}\\\"><i class=\\\"fa fa-list\\\"></i></button>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\r\\n    <button [disabled]=\\\"!selected\\\" class=\\\"btn btn-secondary btn-sm \\\" (click)=\\\"edit()\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i> Edit </button>\\r\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"newItem()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Item</button>\\r\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"newEdge()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Link</button>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-lg-9\\\">\\r\\n    <ng-table *ngIf=\\\"large && display=='table'\\\" [className]=\\\"['table-responsive','table-condensed']\\\" [config]=\\\"getConfig()\\\" (tableChanged)=\\\"onChangeTable()\\\"\\r\\n      (cellClicked)=\\\"onCellClick($event)\\\" [rows]=\\\"rows\\\" [columns]=\\\"getConfig().sorting.columns\\\">\\r\\n    </ng-table>\\r\\n\\r\\n    <div *ngIf=\\\"!large || display=='list'\\\" tabindex=\\\"1\\\" (keydown)=\\\"key($event)\\\" class=\\\"list\\\">\\r\\n      <div (keydown)=\\\"key($event)\\\" *ngFor=\\\"let r of rows\\\" class=\\\"selectable\\\" [ngClass]=\\\"{'selected' : isSelected(r)}\\\" (click)=\\\"onListClick(r)\\\"\\r\\n        (dblclick)=\\\"view(r)\\\" (press)=\\\"view(r)\\\">\\r\\n        {{r.item.data.label}}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-lg-3\\\" *ngIf=\\\"large\\\">\\r\\n    <div class=\\\" sticky-top\\\">\\r\\n      <app-view [item]=\\\"selected\\\"></app-view>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { LocalStorageService } from 'angular-2-local-storage';\r\nimport * as _ from 'lodash';\r\n\r\nimport { DataService } from '../data.service';\r\nimport { Database, GraphItem } from '../models';\r\n\r\n@Component({\r\n  selector: \"app-process-list\",\r\n  templateUrl: \"./process-list.component.html\",\r\n  styleUrls: [\"./process-list.component.css\"]\r\n})\r\nexport class ProcessListComponent implements OnInit {\r\n  LOCAL_STORAGE_KEY = \"ProcessListComponent.prefs\";\r\n  types = [];\r\n\r\n  db: Database;\r\n  items: Row[] = new Array();\r\n  rows: Row[] = new Array();\r\n  selected: GraphItem;\r\n  prefs = new Prefs();\r\n  cy: any;\r\n  large: boolean;\r\n\r\n  constructor(\r\n    private dataSvc: DataService,\r\n    private router: Router,\r\n    private modalService: NgbModal,\r\n    private localStorage: LocalStorageService\r\n  ) {\r\n    let str = <string>this.localStorage.get(this.LOCAL_STORAGE_KEY);\r\n    if (str) {\r\n      this.prefs = JSON.parse(str);\r\n    }\r\n\r\n    let mq = window.matchMedia(\"(min-width: 992px)\");\r\n    this.large = mq.matches;\r\n    mq.addListener(newMatch => {\r\n      console.log(\"Media Query \" + newMatch.matches + \" IS LARGE\");\r\n      this.large = newMatch.matches;\r\n    });\r\n\r\n    // Get the data\r\n    this.dataSvc.getDb().subscribe(db => {\r\n      this.db = db;\r\n      // this.types = this.db.structure.nodeTypes\r\n      if (db.graph) {\r\n        this.cy = this.dataSvc.cy;\r\n        this.generate();\r\n      }\r\n    });\r\n\r\n    this.dataSvc.cyo.subscribe(newCy => {\r\n      this.cy = newCy;\r\n    });\r\n    this.types = this.dataSvc.nodeTypes;\r\n  }\r\n\r\n  public columnsProcess: Array<any> = [\r\n    {\r\n      title: \"Name\",\r\n      name: \"name\",\r\n      filtering: { filterString: \"\", placeholder: \"Filter by name\" }\r\n    },\r\n    {\r\n      title: \"Component\",\r\n      name: \"component\",\r\n      filtering: { filterString: \"\", placeholder: \"Filter by component\" }\r\n    },\r\n    {\r\n      title: \"Type\",\r\n      name: \"type\",\r\n      filtering: { filterString: \"\", placeholder: \"Filter by type\" }\r\n    }\r\n  ];\r\n\r\n  public columnsRest: Array<any> = [\r\n    {\r\n      title: \"Name\",\r\n      name: \"name\",\r\n      filtering: { filterString: \"\", placeholder: \"Filter by name\" }\r\n    },\r\n    {\r\n      title: \"Component\",\r\n      name: \"component\",\r\n      filtering: { filterString: \"\", placeholder: \"Filter by component\" }\r\n    },\r\n    {\r\n      title: \"Type\",\r\n      name: \"type\",\r\n      filtering: { filterString: \"\", placeholder: \"Filter by type\" }\r\n    }\r\n  ];\r\n\r\n  public page: number = 1;\r\n  public itemsPerPage: number = 10;\r\n  public maxSize: number = 5;\r\n  public numPages: number = 1;\r\n  public length: number = 0;\r\n\r\n  public configProcess: any = {\r\n    paging: false,\r\n    sorting: { columns: this.columnsProcess },\r\n    // filtering: { filterString: '' },\r\n    className: [\"table-striped\", \"table-bordered\"]\r\n  };\r\n\r\n  public configRest: any = {\r\n    paging: false,\r\n    sorting: { columns: this.columnsRest },\r\n    // filtering: { filterString: '' },\r\n    className: [\"table-striped\", \"table-bordered\"]\r\n  };\r\n\r\n  public ngOnInit(): void {\r\n    this.onChangeTable();\r\n  }\r\n\r\n  public toggleFilter(t) {\r\n    this.prefs.typeSelected = t;\r\n    this.generate();\r\n  }\r\n\r\n  public isFiltered(t) {\r\n    return t == this.prefs.typeSelected;\r\n  }\r\n\r\n  public generate() {\r\n    this.items = this.getItems(this.prefs.typeSelected);\r\n    this.onChangeTable();\r\n  }\r\n\r\n  private getItems(type: string): Row[] {\r\n    let all = new Array<Row>();\r\n\r\n    let selector = 'node[type=\"' + type + '\"]';\r\n    console.log(\"Selecting \" + selector);\r\n\r\n    let items;\r\n    if (type === \"ALL\") {\r\n      items = this.cy.nodes();\r\n    } else {\r\n      items = this.cy.nodes(selector);\r\n    }\r\n\r\n    console.log(\"Found \" + items.length);\r\n\r\n    items.forEach(p => {\r\n      let n = p._private;\r\n      let id = n.data[\"id\"];\r\n      let label = n.data.label;\r\n      let component = n.data.component;\r\n      all.push({\r\n        name: label,\r\n        value: id,\r\n        type: n.data.type,\r\n        component: ProcessListComponent.blank(component),\r\n        item: n\r\n      });\r\n    });\r\n\r\n    return all;\r\n  }\r\n\r\n  public static blank(value: string): string {\r\n    if (value) {\r\n      return value;\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  public changePage(page: any, data: Array<any>): Array<any> {\r\n    // let start = (page.page - 1) * page.itemsPerPage;\r\n    // let end = page.itemsPerPage > -1 ? (start + page.itemsPerPage) : data.length;\r\n    // return data.slice(start, end);\r\n    return null;\r\n  }\r\n\r\n  public changeSort(data: any, config: any): any {\r\n    if (!config.sorting) {\r\n      return data;\r\n    }\r\n\r\n    let columns = config.sorting.columns || [];\r\n    let columnName: string = void 0;\r\n    let sort: string = void 0;\r\n\r\n    for (let i = 0; i < columns.length; i++) {\r\n      if (columns[i].sort !== \"\" && columns[i].sort !== false) {\r\n        columnName = columns[i].name;\r\n        sort = columns[i].sort;\r\n      }\r\n    }\r\n\r\n    if (!columnName) {\r\n      return data;\r\n    }\r\n\r\n    // simple sorting\r\n    return data.sort((previous: any, current: any) => {\r\n      if (previous[columnName] > current[columnName]) {\r\n        return sort === \"desc\" ? -1 : 1;\r\n      } else if (previous[columnName] < current[columnName]) {\r\n        return sort === \"asc\" ? -1 : 1;\r\n      }\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  public changeFilter(data: any, config: any): any {\r\n    let filteredData: Array<any> = data;\r\n    config.sorting.columns.forEach((column: any) => {\r\n      if (column.filtering) {\r\n        filteredData = filteredData.filter((item: any) => {\r\n          if (item[column.name]) {\r\n            return item[column.name].match(column.filtering.filterString);\r\n          }\r\n          console.log(\"OOPS \" + column.name);\r\n          return true;\r\n        });\r\n      }\r\n    });\r\n\r\n    if (!config.filtering) {\r\n      return filteredData;\r\n    }\r\n\r\n    if (config.filtering.columnName) {\r\n      return filteredData.filter((item: any) => {\r\n        if (item[config.filtering.columnName]) {\r\n          item[config.filtering.columnName].match(\r\n            config.filtering.filterString\r\n          );\r\n        }\r\n      });\r\n    }\r\n\r\n    let tempArray: Array<any> = [];\r\n    filteredData.forEach((item: any) => {\r\n      let flag = false;\r\n      config.sorting.columns.forEach((column: any) => {\r\n        if (\r\n          item[column.name] &&\r\n          item[column.name].toString().match(config.filtering.filterString)\r\n        ) {\r\n          flag = true;\r\n        }\r\n      });\r\n      if (flag) {\r\n        tempArray.push(item);\r\n      }\r\n    });\r\n    filteredData = tempArray;\r\n\r\n    return filteredData;\r\n  }\r\n\r\n  public onChangeTable(\r\n    config: any = this.getConfig(),\r\n    page: any = { page: this.page, itemsPerPage: this.itemsPerPage }\r\n  ): any {\r\n    if (config.filtering) {\r\n      Object.assign(config.filtering, config.filtering);\r\n    }\r\n\r\n    if (config.sorting) {\r\n      Object.assign(config.sorting, config.sorting);\r\n    }\r\n\r\n    // Get the real data\r\n    if (this.items) {\r\n      let filteredData = this.changeFilter(this.items, config);\r\n      let sortedData = this.changeSort(filteredData, config);\r\n      this.rows =\r\n        page && config.paging ? this.changePage(page, sortedData) : sortedData;\r\n      this.length = sortedData.length;\r\n    }\r\n  }\r\n\r\n  public getConfig() {\r\n    if (this.prefs.typeSelected == \"Process\") {\r\n      return this.configProcess;\r\n    } else {\r\n      return this.configRest;\r\n    }\r\n  }\r\n\r\n  public onCellClick(data: any): any {\r\n    // console.log(\"clicked \" + JSON.stringify(data))\r\n    let r: Row = data.row;\r\n    this.selected = r.item;\r\n  }\r\n\r\n  public onListClick(r: any): any {\r\n    // console.log(\"clicked \" + JSON.stringify(data))\r\n    this.selected = r.item;\r\n  }\r\n\r\n  public edit() {\r\n    if (this.selected) {\r\n      this.router.navigate([\"/edit\", this.selected.data.id]);\r\n    }\r\n  }\r\n\r\n  public view(r: any) {\r\n    if (r) {\r\n      this.router.navigate([\"/view\", r.item.data.id]);\r\n    }\r\n    if (this.selected) {\r\n      this.router.navigate([\"/view\", this.selected.data.id]);\r\n    }\r\n  }\r\n\r\n  public newItem() {\r\n    this.router.navigate([\"/edit\"]);\r\n  }\r\n\r\n  public newEdge() {\r\n    this.router.navigate([\"/edit_edge\"]);\r\n  }\r\n\r\n  public set display(d: string) {\r\n    this.prefs.display = d;\r\n    this.savePrefs();\r\n  }\r\n\r\n  public get display(): string {\r\n    if (this.prefs.display) {\r\n      return this.prefs.display;\r\n    }\r\n    return \"table\";\r\n  }\r\n\r\n  public savePrefs() {\r\n    let str = JSON.stringify(this.prefs);\r\n    this.localStorage.set(this.LOCAL_STORAGE_KEY, str);\r\n  }\r\n\r\n  public isSelected(r: Row): boolean {\r\n    if (this.selected) {\r\n      return r.item.data.id == this.selected.data.id;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public key(event) {\r\n    console.log(\"KEY \" + event.keyCode);\r\n\r\n    if (event.keyCode) {\r\n      let dir = 0;\r\n      if (event.keyCode == 38) {\r\n        dir = -1;\r\n      } else if (event.keyCode == 40) {\r\n        dir = 1;\r\n      }\r\n\r\n      if (dir != 0) {\r\n        let indx = 0;\r\n        if (this.selected) {\r\n          indx = _.findIndex(\r\n            this.rows,\r\n            i => i.item.data.id == this.selected.data.id\r\n          );\r\n          indx += dir;\r\n          indx = Math.max(indx, 0);\r\n          indx = Math.min(indx, this.rows.length - 1);\r\n        }\r\n        console.log(\"KEY WORK \" + indx);\r\n        this.selected = this.rows[indx].item;\r\n        event.preventDefault();\r\n      }\r\n    }\r\n  }\r\n}\r\nclass Prefs {\r\n  typeSelected = \"Process\";\r\n  display = \"table\";\r\n}\r\n\r\nclass Row {\r\n  name: string;\r\n  value: string;\r\n  type: string;\r\n  component: string;\r\n  item: GraphItem;\r\n}\r\n","module.exports = \".middle {\\r\\n  padding: 8px;\\r\\n}\\r\\n\"","module.exports = \"<h4> Dependency Report</h4>\\n\\n<div class=\\\"container-fluid\\\">\\n  <div class=\\\"row\\\">\\n    <span class=\\\"middle\\\">Report Items: </span>\\n    <tag-input name=\\\"items\\\" [placeholder]=\\\"'Add'\\\" [secondaryPlaceholder]=\\\"'Type the name of an item'\\\" [separatorKeys]=\\\"separatorKeys\\\"\\n      [(ngModel)]=\\\"items\\\" (onRemove)=\\\"onRemove($event)\\\" (onAdd)=\\\"onAdd($event)\\\" [onlyFromAutocomplete]=\\\"true\\\">\\n      <tag-input-dropdown [autocompleteItems]=\\\"choices\\\" [showDropdownIfEmpty]=\\\"true\\\">\\n      </tag-input-dropdown>\\n    </tag-input>\\n  </div>\\n  <div class=\\\"row\\\">\\n    <div class=\\\"btn-group btn-group-sm mb-1 mr-auto\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\n      <button class=\\\"btn btn-info btn-sm\\\" *ngFor=\\\"let t of types\\\" (click)=\\\"toggleFilter(t)\\\" [ngClass]=\\\"{'active': isFiltered(t)}\\\">{{t}}</button>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-header\\\"><i class=\\\"fa fa-chevron-up mr-auto\\\" [ngClass]=\\\"c_1?'fa-chevron-up':'fa-chevron-down'\\\" aria-hidden=\\\"true\\\" (click)=\\\"c_1= !c_1\\\"\\n      [attr.aria-expanded]=\\\"!c_1\\\" aria-controls=\\\"predecessors\\\"></i> Predecessors (All Generations)</div>\\n  <div class=\\\"card-body\\\" id=\\\"predecessors\\\" [ngbCollapse]=\\\"c_1\\\">\\n    <app-dependency-table [items]=\\\"strItems\\\" [dependencyType]=\\\"'predecessors'\\\" [filters]=\\\"prefs.filtered\\\"></app-dependency-table>\\n  </div>\\n</div>\\n\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-header\\\"><i class=\\\"fa fa-chevron-up mr-auto\\\" [ngClass]=\\\"c_2?'fa-chevron-up':'fa-chevron-down'\\\" aria-hidden=\\\"true\\\" (click)=\\\"c_2= !c_2\\\"\\n      [attr.aria-expanded]=\\\"!c_2\\\" aria-controls=\\\"predecessors\\\"></i> Successors (All Generations)</div>\\n  <div class=\\\"card-body\\\" id=\\\"successors\\\" [ngbCollapse]=\\\"c_2\\\">\\n    <app-dependency-table [items]=\\\"strItems\\\" [dependencyType]=\\\"'successors'\\\" [filters]=\\\"prefs.filtered\\\"></app-dependency-table>\\n  </div>\\n</div>\\n\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-header\\\"><i class=\\\"fa fa-chevron-up mr-auto\\\" [ngClass]=\\\"c_3?'fa-chevron-up':'fa-chevron-down'\\\" aria-hidden=\\\"true\\\" (click)=\\\"c_3= !c_3\\\"\\n      [attr.aria-expanded]=\\\"!c_3\\\" aria-controls=\\\"predecessors\\\"></i> Incomers (1 Generation)</div>\\n  <div class=\\\"card-body\\\" id=\\\"incomers\\\" [ngbCollapse]=\\\"c_3\\\">\\n    <app-dependency-table [items]=\\\"strItems\\\" [dependencyType]=\\\"'incomers'\\\" [filters]=\\\"prefs.filtered\\\"></app-dependency-table>\\n  </div>\\n</div>\\n\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-header\\\"><i class=\\\"fa fa-chevron-up mr-auto\\\" [ngClass]=\\\"c_4?'fa-chevron-up':'fa-chevron-down'\\\" aria-hidden=\\\"true\\\" (click)=\\\"c_4= !c_4\\\"\\n      [attr.aria-expanded]=\\\"!c_4\\\" aria-controls=\\\"predecessors\\\"></i> Outgoers (1 Generation)</div>\\n  <div class=\\\"card-body\\\" id=\\\"outgoers\\\" [ngbCollapse]=\\\"c_4\\\">\\n    <app-dependency-table [items]=\\\"strItems\\\" [dependencyType]=\\\"'outgoers'\\\" [filters]=\\\"prefs.filtered\\\"></app-dependency-table>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../data.service'\nimport { LocalStorageService } from 'angular-2-local-storage'\nimport { Database, GraphItem } from '../models'\nimport * as _ from 'lodash'\n\n@Component({\n  selector: 'app-report',\n  templateUrl: './report.component.html',\n  styleUrls: ['./report.component.css']\n})\nexport class ReportComponent implements OnInit {\n  LOCAL_STORAGE_KEY = \"ReportComponent.PREFS\"\n\n  separatorKeys = [',']\n  strItems: string[] = []\n  choices = new Array()\n\n  types = [\n    \"Process\", \"Technology\", \"Library\", \"Data Type\", \"Intent\", \"Endpoint\", \"Algorithm\"\n  ]\n\n  db: Database\n  prefs = new Prefs()\n\n  c_1: boolean\n  c_2: boolean\n  c_3: boolean\n  c_4: boolean\n\n  constructor(private dataSvc: DataService, private localStorage: LocalStorageService) {\n    // Load Preferences \n    let str = <string>this.localStorage.get(this.LOCAL_STORAGE_KEY)\n    if (str) {\n      this.prefs = JSON.parse(str)\n    }\n\n    // Get the data\n    this.dataSvc.getDb().subscribe(db => {\n      this.db = db\n      if (db.graph) {\n        db.graph.forEach((i: GraphItem) => {\n          if (i.group == 'nodes') {\n            this.choices.push({\n              display: i.data.label,\n              value: i.data.id\n            })\n          }\n        })\n        this.choices.sort((a, b) => {\n          return a.display.localeCompare(b.display)\n        })\n      }\n    })\n  }\n\n  public isFiltered(l: string): boolean {\n    return _.includes(this.prefs.filtered, l)\n  }\n\n  public toggleFilter(t) {\n    // Toggle the filter\n    let len = this.prefs.filtered.length\n    let success = _.without(this.prefs.filtered, t)\n    if (success.length == len) {\n      success.push(t)\n    }\n    this.prefs.filtered = success\n    this.savePrefs()\n  }\n\n  set items(i: any[]) {\n    let newStr = []\n    i.forEach(newItem => {\n      newStr.push(newItem.value)\n    })\n    this.strItems = newStr\n  }\n\n  public ngOnInit(): void {\n\n  }\n\n  public onAdd(itm) {\n\n  }\n\n  public onRemove(item) {\n\n  }\n\n  public savePrefs() {\n    let str = JSON.stringify(this.prefs)\n    this.localStorage.set(this.LOCAL_STORAGE_KEY, str)\n  }\n\n  public resetPreferences() {\n    this.prefs = new Prefs()\n  }\n}\n\nclass Prefs {\n  filtered: string[] = new Array<string>()\n}\n","module.exports = \"\"","module.exports = \"<p>\\n  settings works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css']\n})\nexport class SettingsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, BehaviorSubject } from 'rxjs'\nimport { mergeMap, map, tap, first, concatMap, catchError } from \"rxjs/operators\";\nimport { Http, Response, RequestOptionsArgs, RequestOptions, Headers } from '@angular/http'\nimport { Database } from './models'\n\n@Injectable()\nexport class StashService {\n\n  // rest/api/1.0/projects/PIR/repos/target-manager/browse/process.json\n  username = \" \"\n  password = \" \"\n  https = \"https://\"\n  stash_url = \"bitbucket.di2e.net/\"\n  stash_api_part = \"rest/api/1.0/projects/\"\n  stash_project = \"PIR\"\n\n  constructor(private http: Http) {\n\n  }\n\n  public getProcessesFile(repoName: String) {\n    // https://bitbucket.di2e.net/rest/api/1.0/projects/PIR/repos/target-manager/browse/process.json\n    let path = this.stash_url + this.stash_api_part + this.stash_project + \"/repos/\" + repoName + \"/browse/process.json\";\n\n    let myHeaders = new Headers();\n    myHeaders.set('Authorization', 'Basic ' + btoa(this.username + ':' + this.password))\n    myHeaders.set('Access-Control-Allow-Origin', '*')\n\n    let requestOptions: RequestOptionsArgs = {\n      method: 'GET',\n      headers: myHeaders\n    };\n\n    return this.http.request(path, requestOptions).pipe(\n      map((response: Response) => {\n        if (response.status === 204) {\n          return undefined;\n        } else {\n          return response.json();\n        }\n      }\n      ))\n  }\n  public getRepos() {\n    // \"https://cors-anywhere.herokuapp.com/\" +\n    let path = this.stash_url + this.stash_api_part + this.stash_project + \"/repos\";\n\n    // Uncomment for JSON Server (local)\n    // path = \"http://localhost:3000/values\"\n\n    // Uncomment for cors proxy\n    // path = \"https://localhost:1337/\" + path\n\n    let queryParameters = new URLSearchParams();\n    queryParameters.set(\"limit\", \"1000\")\n\n    let myHeaders = new Headers();\n    myHeaders.set('Authorization', 'Basic ' + btoa(this.username + ':' + this.password))\n    myHeaders.set('Access-Control-Allow-Origin', '*')\n    let options = new RequestOptions({ headers: myHeaders });\n\n    console.log(\"path \" + path);\n    console.log(\"OPTIONS\" + JSON.stringify(options));\n\n    let requestOptions: RequestOptionsArgs = {\n      method: 'GET',\n      headers: myHeaders,\n      search: queryParameters\n    };\n\n    return this.http.get(path, requestOptions).pipe(\n      map((response: Response) => {\n        if (response.status === 204) {\n          return undefined;\n        } else {\n          return response.json();\n        }\n      }),\n      catchError(StashService.handleError)\n    )\n  }\n\n  static handleError(error: Response) {\n    console.error(error);\n    return Observable.throw(error.json().error || 'Server error');\n  }\n\n}\n","export class Styles {\r\n    public styles: any[] =\r\n    [{\r\n        \"selector\": \"node\",\r\n        \"style\": {\r\n            \"content\": \"data(label)\",\r\n            \"font-size\": \"12px\",\r\n            \"text-valign\": \"center\",\r\n            \"text-halign\": \"center\",\r\n            \"background-color\": \"#555\",\r\n            \"text-outline-color\": \"#555\",\r\n            \"text-outline-width\": \"2px\",\r\n            \"color\": \"#fff\",\r\n            \"overlay-padding\": \"6px\",\r\n            \"z-index\": \"10\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node[?attr]\",\r\n        \"style\": {\r\n            \"shape\": \"rectangle\",\r\n            \"background-color\": \"#aaa\",\r\n            \"text-outline-color\": \"#aaa\",\r\n            \"width\": \"16px\",\r\n            \"height\": \"16px\",\r\n            \"font-size\": \"6px\",\r\n            \"z-index\": \"1\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node[?query]\",\r\n        \"style\": {\r\n            \"background-clip\": \"none\",\r\n            \"background-fit\": \"contain\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node:selected\",\r\n        \"style\": {\r\n            \"border-width\": \"6px\",\r\n            \"border-color\": \"#AAD8FF\",\r\n            \"border-opacity\": \"0.5\",\r\n            \"background-color\": \"#77828C\",\r\n            \"text-outline-color\": \"#77828C\"\r\n        }\r\n    }, {\r\n        \"selector\": \"edge\",\r\n        \"style\": {\r\n            'curve-style': 'bezier',\r\n            \"opacity\": \"0.8\",\r\n            \"line-color\": \"#bbb\",\r\n            \"width\": \"1\",\r\n            \"overlay-padding\": \"3px\",\r\n            \"font-size\": \"6px\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node.unhighlighted\",\r\n        \"style\": {\r\n            \"opacity\": \"0.2\"\r\n        }\r\n    }, {\r\n        \"selector\": \"edge.arrow\",\r\n        \"style\": {\r\n            \"target-arrow-shape\": \"triangle\",\r\n            \"target-arrow-color\": \"#bbb\"\r\n        }\r\n    }, {\r\n        \"selector\": \"edge.version\",\r\n        \"style\": {\r\n            \"content\": \"data(label)\",\r\n        }\r\n    }, {\r\n        \"selector\": \"edge.unhighlighted\",\r\n        \"style\": {\r\n            \"opacity\": \"0.05\"\r\n        }\r\n    }, {\r\n        \"selector\": \".highlighted\",\r\n        \"style\": {\r\n            \"z-index\": \"999999\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node.highlighted\",\r\n        \"style\": {\r\n            \"border-width\": \"6px\",\r\n            \"border-color\": \"#AAD8FF\",\r\n            \"border-opacity\": \"0.5\",\r\n            \"background-color\": \"#394855\",\r\n            \"text-outline-color\": \"#394855\"\r\n        }\r\n    }, {\r\n        \"selector\": \"edge.filtered\",\r\n        \"style\": {\r\n            \"opacity\": \"0\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node[type=\\\"Technology\\\"]\",\r\n        \"style\": {\r\n            \"shape\": \"roundrectangle\",\r\n            \"background-color\": \"#ACB2B0\",\r\n            \"text-outline-color\": \"#ACB2B0\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node[type=\\\"Library\\\"]\",\r\n        \"style\": {\r\n            \"shape\": \"bottomroundrectangle\",\r\n            \"background-color\": \"#ACB2B0\",\r\n            \"text-outline-color\": \"#ACB2B0\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node[type=\\\"Intent\\\"]\",\r\n        \"style\": {\r\n            \"shape\": \"tag\",\r\n            \"background-color\": \"#BAB6AB\",\r\n            \"text-outline-color\": \"#BAB6AB\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node[type=\\\"Data Type\\\"]\",\r\n        \"style\": {\r\n            \"shape\": \"triangle\",\r\n            \"background-color\": \"#BAB6AB\",\r\n            \"text-outline-color\": \"#BAB6AB\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node[type=\\\"Service\\\"]\",\r\n        \"style\": {\r\n            \"shape\": \"tag\",\r\n            \"background-color\": \"#BAB6AB\",\r\n            \"text-outline-color\": \"#BAB6AB\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node[type=\\\"Endpoint\\\"]\",\r\n        \"style\": {\r\n            \"shape\": \"ellipse\",\r\n            \"background-color\": \"#4682B4\",\r\n            \"text-outline-color\": \"#4682B4\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node.hidden\",\r\n        \"style\": {\r\n            \"display\": \"none\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node.filtered\",\r\n        \"style\": {\r\n            \"display\": \"none\"\r\n        }\r\n    }, {\r\n        \"selector\": \"node.sized\",\r\n        \"style\": {\r\n            \"width\": \"mapData(degree, 0, 50, 20, 50)\",\r\n            \"height\": \"mapData(degree, 0, 50, 20, 50)\"\r\n        }\r\n    }]\r\n\r\n\r\n    public setMaxSize(max: number) {\r\n\r\n        let items = this.styles.filter(v => {\r\n            return v.selector === \"node.sized\"\r\n        })\r\n        if (items.length == 1) {\r\n            let found = items[0]\r\n            let val = \"mapData(degree, 0, \" + max + \",20, 50)\"\r\n            found.style.width = val\r\n            found.style.height = val\r\n        }\r\n\r\n    }\r\n}","module.exports = \"\"","module.exports = \"<div [ngSwitch]=\\\"type\\\">\\n  <div *ngSwitchCase=\\\"'pie'\\\">\\n    <ngx-charts-pie-chart [scheme]=\\\"colorScheme\\\" [results]=\\\"items\\\" (select)=\\\"onSelect($event)\\\" [view]='view' [labels]=true></ngx-charts-pie-chart>\\n  </div>\\n  <div *ngSwitchCase=\\\"'pie_advanced'\\\">\\n    <ngx-charts-advanced-pie-chart [scheme]=\\\"colorScheme\\\" [results]=\\\"items\\\" (select)=\\\"onSelect($event)\\\" [view]='view'></ngx-charts-advanced-pie-chart>\\n  </div>\\n  <div *ngSwitchCase=\\\"'pie_grid'\\\">\\n    <ngx-charts-pie-grid [scheme]=\\\"colorScheme\\\" [results]=\\\"items\\\" (select)=\\\"onSelect($event)\\\" [view]='view'></ngx-charts-pie-grid>\\n  </div>\\n  <div *ngSwitchCase=\\\"'bar_v'\\\">\\n    <ngx-charts-bar-vertical [scheme]=\\\"colorScheme\\\" [results]=\\\"items\\\" [xAxis]=\\\"true\\\" [yAxis]=\\\"true\\\" [legend]=\\\"false\\\" [showXAxisLabel]=\\\"false\\\"\\n      [showYAxisLabel]=\\\"false\\\" (select)=\\\"onSelect($event)\\\" [view]='view'>\\n    </ngx-charts-bar-vertical>\\n  </div>\\n  <div *ngSwitchCase=\\\"'bar_h'\\\">\\n    <ngx-charts-bar-horizontal [scheme]=\\\"colorScheme\\\" [results]=\\\"items\\\" [xAxis]=\\\"'true'\\\" [yAxis]=\\\"'true'\\\" [legend]=\\\"'false'\\\"\\n      [showXAxisLabel]=\\\"'false'\\\" [showYAxisLabel]=\\\"'false'\\\" (select)=\\\"onSelect($event)\\\" [view]='view'>\\n    </ngx-charts-bar-horizontal>\\n  </div>\\n</div>\\n\"","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: \"app-summary-chart\",\n  templateUrl: \"./summary-chart.component.html\",\n  styleUrls: [\"./summary-chart.component.css\"]\n})\nexport class SummaryChartComponent implements OnInit {\n  @Input() items;\n  @Input() type;\n  view;\n  w: number;\n  h: number;\n\n  colorScheme = {\n    domain: [\"#5AA454\", \"#A10A28\", \"#C7B42C\", \"#AAAAAA\"]\n  };\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  @Input()\n  public set width(w: number) {\n    this.w = w;\n    this.view = [this.w, this.h];\n  }\n\n  @Input()\n  public set height(h: number) {\n    this.h = h;\n    this.view = [this.w, this.h];\n  }\n\n  public onSelect(event) {\n    console.log(\"Selected\");\n  }\n}\n","module.exports = \".clickable {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.timeline-event {\\r\\n  background-color: #9E9C9C\\r\\n}\\r\\n\"","module.exports = \"<h4> Timeline</h4>\\n<div class=\\\"sticky-top\\\">\\n\\n  <div class=\\\"btn-group btn-group-sm mb-1 mr-auto\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\" *ngIf=\\\"large\\\">\\n    <button class=\\\"btn btn-info btn-sm\\\" *ngFor=\\\"let t of types\\\" (click)=\\\"toggleFilter(t.value)\\\" [ngClass]=\\\"{'active': isFiltered(t.value)}\\\">{{t.label}}</button>\\n  </div>\\n\\n  <div ngbDropdown class=\\\"d-inline-block\\\" *ngIf=\\\"!large\\\">\\n    <button class=\\\"btn btn-sm btn-info mb-1\\\" id=\\\"dropdownBasic1\\\" ngbDropdownToggle><i class=\\\"fa fa-filter\\\"></i> Types</button>\\n    <div ngbDropdownMenu aria-labelledby=\\\"dropdownBasic1\\\">\\n      <button class=\\\"dropdown-item gutter\\\" *ngFor=\\\"let t of types\\\" (click)=\\\"toggleFilter(t)\\\"><i class=\\\"fa fa-check fa-fw check\\\" *ngIf=\\\"isFiltered(t)\\\"></i>{{t}}</button>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"btn-group btn-group-sm mb-1\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\n    <button [disabled]=\\\"!selected\\\" class=\\\"btn btn-secondary btn-sm \\\" (click)=\\\"edit()\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i> Edit </button>\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"newItem()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Item</button>\\n    <button class=\\\"btn btn-sm btn-secondary \\\" (click)=\\\"newEdge()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> New Link</button>\\n  </div>\\n\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-lg-9\\\">\\n    <ngx-timeline [events]=\\\"events\\\">\\n      <ng-template let-event let-index=\\\"rowIndex\\\" timelineHeader>\\n        <div class=\\\"clickable\\\" id=\\\"{{event.id}}\\\" (click)=\\\"select(event)\\\">{{event.header}}</div>\\n      </ng-template>\\n      <ng-template let-event let-index=\\\"rowIndex\\\" timelinePoint>\\n        <div class=\\\"clickable\\\" id=\\\"{{event.id}}\\\" (click)=\\\"select(event)\\\">{{event.header}}</div>\\n      </ng-template>\\n    </ngx-timeline>\\n  </div>\\n  <div class=\\\"col-lg-3\\\">\\n    <div class=\\\" sticky-top\\\">\\n      <app-view [item]=\\\"selected\\\"></app-view>\\n    </div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit, AfterViewInit, ElementRef } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\n\nimport { LocalStorageService } from \"angular-2-local-storage\";\nimport { TimelineEvent } from \"ngx-timeline\";\nimport { DataService } from \"../data.service\";\nimport { GraphItem } from \"../models\";\nimport * as _ from \"lodash\";\n\n@Component({\n  selector: \"app-timeline\",\n  templateUrl: \"./timeline.component.html\",\n  styleUrls: [\"./timeline.component.css\"]\n})\nexport class TimelineComponent implements OnInit, AfterViewInit {\n  LOCAL_STORAGE_KEY = \"TimelineComponent.PREFS\";\n\n  events = new Array<TimelineEvent>();\n  all = new Array<TimelineEvent>();\n  selected: GraphItem;\n  prefs = new Prefs();\n  types = [];\n  large = true;\n\n  constructor(\n    private data: DataService,\n    private elementRef: ElementRef,\n    private router: Router,\n    private localStorage: LocalStorageService\n  ) {\n    // Read Prefereces\n    let str = <string>this.localStorage.get(this.LOCAL_STORAGE_KEY);\n    if (str) {\n      this.prefs = JSON.parse(str);\n    }\n\n    let mq = window.matchMedia(\"(min-width: 992px)\");\n    this.large = mq.matches;\n    mq.addListener(newMatch => {\n      console.log(\"Media Query \" + newMatch.matches + \" IS LARGE\");\n      this.large = newMatch.matches;\n    });\n\n    let newAll = [];\n    this.data.cy.nodes().forEach(i => {\n      let n: GraphItem = i._private;\n      let t = this.data.nodeType(n.data.type);\n      if (t && t.hasDate) {\n        let icon = \"fa-calendar-o\";\n        switch (n.data.type) {\n          case \"install\":\n            icon = \"fa-file-archive-o\";\n            break;\n          case \"release\":\n            icon = \"fa-gift\";\n            break;\n          case \"event\":\n            icon = \"fa-calendar-o\";\n            break;\n        }\n\n        let date = this.best(n.data.start_date, n.data.finish_date);\n        if (date) {\n          let e: TimelineEvent = {\n            date: date,\n            header: n.data.label,\n            body: n.data.description,\n            icon: icon\n          };\n          e[\"id\"] = n.data.id;\n          e[\"node\"] = n;\n          newAll.push(e);\n        }\n      }\n    });\n    this.all = newAll;\n\n    this.types = _.filter(this.data.nodeTypes, i => i.hasDate);\n    this.update();\n  }\n\n  public update() {\n    let items = _.filter(this.all, e => {\n      // filter by type\n      let n = e[\"node\"];\n      if (n) {\n        return !this.isFiltered(n.data.type);\n      }\n      return false;\n    });\n    let items2 = items.sort((a, b): number => {\n      return a.date > b.date ? 1 : -1;\n    });\n    this.events = items;\n  }\n\n  public isFiltered(l: string): boolean {\n    return _.includes(this.prefs.filtered, l);\n  }\n\n  public toggleFilter(t) {\n    // Toggle the filter\n    let len = this.prefs.filtered.length;\n    let success = _.pull(this.prefs.filtered, t);\n    if (success.length == len) {\n      this.prefs.filtered.push(t);\n    }\n    this.savePrefs();\n    this.update();\n  }\n\n  public select(event) {\n    this.selected = event.meta;\n  }\n\n  ngAfterViewInit() {\n    this.elementRef.nativeElement\n      .querySelectorAll(\".timeline-header\")\n      .forEach(item => {\n        item.addEventListener(\"click\", event => {\n          this.selected = this.data.getItem(event.target.id);\n        });\n      });\n  }\n\n  best(d1, d2) {\n    if (d1 && d2) {\n      if (d1 > d2) {\n        return d1;\n      } else {\n        return d2;\n      }\n    } else if (d1) {\n      return d1;\n    } else if (d2) {\n      return d2;\n    }\n    return undefined;\n  }\n\n  ngOnInit() {}\n\n  public edit() {\n    if (this.selected) {\n      this.router.navigate([\"/edit\", this.selected.data.id]);\n    }\n  }\n\n  public view(r: any) {\n    if (r) {\n      this.router.navigate([\"/view\", r.item.data.id]);\n    }\n    if (this.selected) {\n      this.router.navigate([\"/view\", this.selected.data.id]);\n    }\n  }\n\n  public newItem() {\n    this.router.navigate([\"/edit\"]);\n  }\n\n  public newEdge() {\n    this.router.navigate([\"/edit_edge\"]);\n  }\n\n  public savePrefs() {\n    let str = JSON.stringify(this.prefs);\n    this.localStorage.set(this.LOCAL_STORAGE_KEY, str);\n  }\n\n  public resetPreferences() {\n    this.prefs = new Prefs();\n    this.savePrefs();\n    this.update();\n  }\n}\n\nclass Prefs {\n  filtered: string[] = [\"\"];\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DataService } from './data.service'\n\n@Pipe({\n  name: 'type'\n})\nexport class TypePipe implements PipeTransform {\n\n  constructor(private data: DataService) {\n\n  }\n\n  transform(value: any, args?: any): any {\n    if (value) {\n      let item = this.data.getItem(value)\n      if (item) {\n        return item.data.type\n      }\n    }\n    return null;\n  }\n\n}","import { Router } from '@angular/router';\r\nimport { DataService } from './data.service'\r\nimport { GraphItem } from './models'\r\nimport { LocalStorageService } from 'angular-2-local-storage'\r\n\r\nexport class Utils {\r\n    public large = false\r\n    public selected: GraphItem\r\n    public prefs: any\r\n\r\n    constructor(\r\n        private localStorage: LocalStorageService,\r\n        private router: Router,\r\n        private data: DataService,\r\n        private LOCAL_STORAGE_KEY,\r\n        private prefTemplate = {},\r\n        private onResetPrefs: Function) {\r\n\r\n        this.readPrefs()\r\n        this.watchMedia()\r\n    }\r\n\r\n    public readPrefs() {\r\n        // Read Prefereces\r\n        let str = <string>this.localStorage.get(this.LOCAL_STORAGE_KEY)\r\n        if (str) {\r\n            this.prefs = JSON.parse(str)\r\n        } else {\r\n            this.prefs = {}\r\n            Object.assign(this.prefs, this.prefTemplate)\r\n        }\r\n    }\r\n\r\n    public watchMedia() {\r\n        let mq = window.matchMedia(\"(min-width: 992px)\");\r\n        this.large = mq.matches\r\n        mq.addListener(newMatch => {\r\n            console.log(\"Media Query \" + newMatch.matches + \" IS LARGE\");\r\n            this.large = newMatch.matches\r\n        });\r\n    }\r\n\r\n    public edit() {\r\n        if (this.selected) {\r\n            this.router.navigate(['/edit', this.selected.data.id]);\r\n        }\r\n    }\r\n\r\n    public view(r: any) {\r\n        if (r) {\r\n            this.router.navigate(['/view', r.item.data.id]);\r\n        }\r\n        if (this.selected) {\r\n            this.router.navigate(['/view', this.selected.data.id]);\r\n        }\r\n    }\r\n\r\n    public newItem() {\r\n        this.router.navigate(['/edit'])\r\n    }\r\n\r\n    public newEdge() {\r\n        this.router.navigate(['/edit_edge'])\r\n    }\r\n\r\n    public savePrefs() {\r\n        let str = JSON.stringify(this.prefs)\r\n        this.localStorage.set(this.LOCAL_STORAGE_KEY, str)\r\n    }\r\n\r\n    public resetPreferences() {\r\n        this.prefs = {}\r\n        Object.assign(this.prefs, this.prefTemplate)\r\n        this.savePrefs()\r\n        if (this.onResetPrefs) {\r\n            this.readPrefs.apply(this)\r\n        }\r\n    }\r\n}\r\n\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container-fluid sticky-top\\\" *ngIf=\\\"show\\\">\\n  <div class=\\\"row justify-content-end\\\">\\n    <button *ngIf=\\\"show\\\" class=\\\"btn btn-info btn-sm mr-1\\\" (click)=\\\"edit()\\\" type=\\\"button\\\">\\n                        <i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"> Edit</i>\\n                    </button>\\n    <button *ngIf=\\\"show\\\" class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n                        <i class=\\\"fa fa-ban\\\" aria-hidden=\\\"true\\\"> Cancel</i>\\n                    </button>\\n  </div>\\n</div>\\n<div class=\\\"container-fluid\\\" *ngIf=\\\"item && item.group == 'nodes'\\\">\\n  <h4>{{item.data.label}}</h4>\\n  <h6 class=\\\"text-muted mt-2 mb-2\\\">General Information</h6>\\n  <h6>ID</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.id}}</div>\\n  <h6>Type</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.type}}</div>\\n  <h6>Version</h6>\\n  <div class=\\\"mt-2 mb-2\\\"> {{item.data.version}}<span *ngIf=\\\"!item.data.version\\\" class=\\\"text-muted\\\">No Version</span></div>\\n  <h6>Description</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.description}}<span *ngIf=\\\"!item.data.description\\\" class=\\\"text-muted\\\">No Description</span></div>\\n\\n  <div *ngIf=\\\"isScheduled(item)\\\">\\n    <h6 class=\\\"text-muted mt-3\\\">Scheduling</h6>\\n    <h6>Status</h6>\\n    <div class=\\\"mt-2 mb-2\\\">{{item.data.status}}<span *ngIf=\\\"!item.data.status\\\" class=\\\"text-muted\\\">No Scheduing Status</span></div>\\n    <h6>Start Date</h6>\\n    <div class=\\\"mt-2 mb-2\\\">{{item.data.start_date}}<span *ngIf=\\\"!item.data.start_date\\\" class=\\\"text-muted\\\">No Start Date</span></div>\\n    <h6>Finish Date</h6>\\n    <div class=\\\"mt-2 mb-2\\\">{{item.data.finish_date}}<span *ngIf=\\\"!item.data.finish_date\\\" class=\\\"text-muted\\\">No Finish Date</span></div>\\n  </div>\\n\\n  <h6 class=\\\"text-muted mt-3\\\">Links / Edges</h6>\\n  <div *ngFor=\\\"let link of links\\\" class=\\\"\\\">\\n    <!-- <div class=\\\"btn-group btn-group-sm\\\" role=\\\"group\\\" data-toggle=\\\"buttons\\\">\\n      <button class=\\\"btn btn-sm btn-light\\\"><i class=\\\"fa fa-pencil\\\"></i></button>\\n      <button class=\\\"btn btn-sm btn-light\\\"><i class=\\\"fa fa-times\\\"></i></button>\\n    </div> -->\\n    <span class=\\\"badge badge-secondary\\\">{{link|type}}</span> {{link|label}}\\n  </div>\\n\\n</div>\\n<div class=\\\"container-fluid\\\" *ngIf=\\\"item && item.group == 'edges'\\\">\\n  <h4>{{item.data.source|label}} <i class=\\\"fa fa-arrow-right\\\"></i> {{item.data.target|label}}</h4>\\n  <h6 class=\\\"text-muted mt-2 mb-2\\\">General Information</h6>\\n\\n  <h6>ID</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.id}}</div>\\n  <h6>Type</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.type}}</div>\\n  <h6>Version</h6>\\n  <div class=\\\"mt-2 mb-2\\\"> {{item.data.version}}<span *ngIf=\\\"!item.data.version\\\" class=\\\"text-muted\\\">No Version</span></div>\\n  <h6>Source</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.source|label}}</div>\\n  <h6>Target</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.target|label}}</div>\\n\\n  <!-- <h6 class=\\\"text-muted mt-3\\\">Scheduling</h6>\\n  <h6>Status</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.status}}<span *ngIf=\\\"!item.data.status\\\" class=\\\"text-muted\\\">No Scheduing Status</span></div>\\n  <h6>Start Date</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.start_date}}<span *ngIf=\\\"!item.data.start_date\\\" class=\\\"text-muted\\\">No Start Date</span></div>\\n  <h6>Finish Date</h6>\\n  <div class=\\\"mt-2 mb-2\\\">{{item.data.finish_date}}<span *ngIf=\\\"!item.data.finish_date\\\" class=\\\"text-muted\\\">No Finish Date</span></div> -->\\n</div>\\n\"","import { Component, Input, OnInit } from '@angular/core';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\n\nimport { DataService } from '../data.service';\nimport { GraphItem } from '../models';\n\n@Component({\n  selector: \"app-view\",\n  templateUrl: \"./view.component.html\",\n  styleUrls: [\"./view.component.css\"]\n})\nexport class ViewComponent implements OnInit {\n  show = false;\n\n  _item: GraphItem;\n  links;\n\n  constructor(\n    private route: ActivatedRoute,\n    private db: DataService,\n    private router: Router\n  ) {\n    console.log(\"Created View\");\n\n    let id = this.route.snapshot.paramMap.get(\"id\");\n    this.route.paramMap.subscribe((p: ParamMap) => {\n      let id = p.get(\"id\");\n      if (id) {\n        this.item = this.db.findItem(id);\n        this.show = true;\n      }\n    });\n  }\n\n  @Input()\n  set item(i: GraphItem) {\n    console.log(\"Setting Items \" + i);\n    if (i && i.data) {\n      this._item = i;\n      this.getLinks();\n    }\n  }\n\n  get item() {\n    return this._item;\n  }\n\n  ngOnInit() {}\n\n  private getLinks() {\n    if (this.item && this.item.data) {\n      let edges = this.db.getEdgesWith(this.item.data.id);\n      let _links: string[] = [];\n      edges.forEach(e => {\n        if (e.data.target == this.item.data.id) {\n          _links.push(e.data.source);\n        } else {\n          _links.push(e.data.target);\n        }\n      });\n      this.links = _links;\n      // let groups = _.groupBy(edges, item => this.item.data.type)\n      // this.links = groups\n    }\n  }\n\n  edit() {\n    if (this.item) {\n      this.router.navigate([\"/edit\", this.item.data.id]);\n    }\n  }\n  cancel() {\n    window.history.back();\n  }\n\n  isScheduled(item: GraphItem): boolean {\n    let nt = this.db.nodeType(item.data.type);\n    if (nt) {\n      return nt.hasDate;\n    }\n    return false;\n  }\n}\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n"],"sourceRoot":""}